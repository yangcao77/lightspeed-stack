{
    "openapi": "3.1.0",
    "info": {
        "title": "Lightspeed Core Service (LCS) service - OpenAPI",
        "summary": "Lightspeed Core Service (LCS) service API specification.",
        "description": "Lightspeed Core Service (LCS) service API specification.",
        "contact": {
            "name": "Pavel Tisnovsky",
            "url": "https://github.com/tisnik/",
            "email": "ptisnovs@redhat.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "0.3.1"
    },
    "servers": [
        {
            "url": "http://localhost:8080/",
            "description": "Locally running service"
        }
    ],
    "paths": {
        "/": {
            "get": {
                "tags": [
                    "root"
                ],
                "summary": "Root Endpoint Handler",
                "description": "Handle GET requests to the root (\"/\") endpoint and returns the static HTML index page.\n\nReturns:\n    HTMLResponse: The HTML content of the index page, including a heading,\n    embedded image with the service icon, and links to the API documentation\n    via Swagger UI and ReDoc.",
                "operationId": "root_endpoint_handler__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/info": {
            "get": {
                "tags": [
                    "info"
                ],
                "summary": "Info Endpoint Handler",
                "description": "Handle request to the /info endpoint.\n\nProcess GET requests to the /info endpoint, returning the\nservice name, version and Llama-stack version.\n\nReturns:\n    InfoResponse: An object containing the service's name and version.",
                "operationId": "info_endpoint_handler_v1_info_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InfoResponse"
                                },
                                "example": {
                                    "llama_stack_version": "1.0.0",
                                    "name": "Lightspeed Stack",
                                    "service_version": "1.0.0"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "expired token": {
                                        "value": {
                                            "detail": {
                                                "cause": "Token has expired",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid signature": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid token signature",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid key": {
                                        "value": {
                                            "detail": {
                                                "cause": "Token signed by unknown key",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing claim": {
                                        "value": {
                                            "detail": {
                                                "cause": "Token missing claim: user_id",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid k8s token": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid or expired Kubernetes token",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid jwk token": {
                                        "value": {
                                            "detail": {
                                                "cause": "Authentication key server returned invalid data",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/models": {
            "get": {
                "tags": [
                    "models"
                ],
                "summary": "Models Endpoint Handler",
                "description": "Handle requests to the /models endpoint.\n\nProcess GET requests to the /models endpoint, returning a list of available\nmodels from the Llama Stack service.\n\nRaises:\n    HTTPException: If unable to connect to the Llama Stack server or if\n    model retrieval fails for any reason.\n\nReturns:\n    ModelsResponse: An object containing the list of available models.",
                "operationId": "models_endpoint_handler_v1_models_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ModelsResponse"
                                },
                                "example": {
                                    "models": [
                                        {
                                            "api_model_type": "llm",
                                            "identifier": "openai/gpt-4-turbo",
                                            "metadata": {},
                                            "model_type": "llm",
                                            "provider_id": "openai",
                                            "provider_resource_id": "gpt-4-turbo",
                                            "type": "model"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/tools": {
            "get": {
                "tags": [
                    "tools"
                ],
                "summary": "Tools Endpoint Handler",
                "description": "Handle requests to the /tools endpoint.\n\nProcess GET requests to the /tools endpoint, returning a consolidated list of\navailable tools from all configured MCP servers.\n\nRaises:\n    HTTPException: If unable to connect to the Llama Stack server or if\n    tool retrieval fails for any reason.\n\nReturns:\n    ToolsResponse: An object containing the consolidated list of available tools\n    with metadata including tool name, description, parameters, and server source.",
                "operationId": "tools_endpoint_handler_v1_tools_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ToolsResponse"
                                },
                                "example": {
                                    "tools": [
                                        {
                                            "description": "Read contents of a file from the filesystem",
                                            "identifier": "filesystem_read",
                                            "parameters": [
                                                {
                                                    "description": "Path to the file to read",
                                                    "name": "path",
                                                    "parameter_type": "string",
                                                    "required": true
                                                }
                                            ],
                                            "provider_id": "model-context-protocol",
                                            "server_source": "http://localhost:3000",
                                            "toolgroup_id": "filesystem-tools",
                                            "type": "tool"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/shields": {
            "get": {
                "tags": [
                    "shields"
                ],
                "summary": "Shields Endpoint Handler",
                "description": "Handle requests to the /shields endpoint.\n\nProcess GET requests to the /shields endpoint, returning a list of available\nshields from the Llama Stack service.\n\nRaises:\n    HTTPException: If unable to connect to the Llama Stack server or if\n    shield retrieval fails for any reason.\n\nReturns:\n    ShieldsResponse: An object containing the list of available shields.",
                "operationId": "shields_endpoint_handler_v1_shields_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ShieldsResponse"
                                },
                                "example": {
                                    "shields": [
                                        {
                                            "identifier": "lightspeed_question_validity-shield",
                                            "params": {},
                                            "provider_id": "lightspeed_question_validity",
                                            "provider_resource_id": "lightspeed_question_validity-shield",
                                            "type": "shield"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/providers": {
            "get": {
                "tags": [
                    "providers"
                ],
                "summary": "Providers Endpoint Handler",
                "description": "List all available providers grouped by API type.\n\nReturns:\n    ProvidersListResponse: Mapping from API type to list of providers.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "providers_endpoint_handler_v1_providers_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProvidersListResponse"
                                },
                                "example": {
                                    "providers": {
                                        "agents": [
                                            {
                                                "provider_id": "meta-reference",
                                                "provider_type": "inline::meta-reference"
                                            }
                                        ],
                                        "inference": [
                                            {
                                                "provider_id": "sentence-transformers",
                                                "provider_type": "inline::sentence-transformers"
                                            },
                                            {
                                                "provider_id": "openai",
                                                "provider_type": "remote::openai"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/providers/{provider_id}": {
            "get": {
                "tags": [
                    "providers"
                ],
                "summary": "Get Provider Endpoint Handler",
                "description": "Retrieve a single provider by its unique ID.\n\nReturns:\n    ProviderResponse: Provider details.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 404: Provider not found\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "get_provider_endpoint_handler_v1_providers__provider_id__get",
                "parameters": [
                    {
                        "name": "provider_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Provider Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProviderResponse"
                                },
                                "example": {
                                    "api": "inference",
                                    "config": {
                                        "api_key": "********"
                                    },
                                    "health": {
                                        "message": "Healthy",
                                        "status": "OK"
                                    },
                                    "provider_id": "openai",
                                    "provider_type": "remote::openai"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/rags": {
            "get": {
                "tags": [
                    "rags"
                ],
                "summary": "Rags Endpoint Handler",
                "description": "List all available RAGs.\n\nReturns:\n    RAGListResponse: List of RAG identifiers.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "rags_endpoint_handler_v1_rags_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RAGListResponse"
                                },
                                "example": {
                                    "rags": [
                                        "vs_00000000-cafe-babe-0000-000000000000",
                                        "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                                        "vs_7b52a8cf-0fa3-489c-cafe-27e061d102f3"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/rags/{rag_id}": {
            "get": {
                "tags": [
                    "rags"
                ],
                "summary": "Get Rag Endpoint Handler",
                "description": "Retrieve a single RAG by its unique ID.\n\nReturns:\n    RAGInfoResponse: A single RAG's details.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 404: RAG with the given ID not found\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "get_rag_endpoint_handler_v1_rags__rag_id__get",
                "parameters": [
                    {
                        "name": "rag_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Rag Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RAGInfoResponse"
                                },
                                "example": {
                                    "created_at": 1763391371,
                                    "id": "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                                    "last_active_at": 1763391371,
                                    "name": "Faiss Store with Knowledge base",
                                    "object": "vector_store",
                                    "status": "completed",
                                    "usage_bytes": 1024000
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "rag": {
                                        "value": {
                                            "detail": {
                                                "cause": "Rag with ID vs_7b52a8cf-0fa3-489c-beab-27e061d102f3 does not exist",
                                                "response": "Rag not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/query": {
            "post": {
                "tags": [
                    "query_v1"
                ],
                "summary": "Query Endpoint Handler V1",
                "description": "Handle request to the /query endpoint using Responses API.\n\nThis is a wrapper around query_endpoint_handler_base that provides\nthe Responses API specific retrieve_response and get_topic_summary functions.\n\nReturns:\n    QueryResponse: Contains the conversation ID and the LLM-generated response.",
                "operationId": "query_endpoint_handler_v2_v1_query_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QueryResponse"
                                },
                                "example": {
                                    "available_quotas": {
                                        "ClusterQuotaLimiter": 998911,
                                        "UserQuotaLimiter": 998911
                                    },
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "input_tokens": 123,
                                    "output_tokens": 456,
                                    "referenced_documents": [
                                        {
                                            "doc_title": "Operator Lifecycle Manager concepts and resources",
                                            "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/understanding/olm/olm-understanding-olm.html"
                                        }
                                    ],
                                    "response": "Operator Lifecycle Manager (OLM) helps users install...",
                                    "tool_calls": [
                                        {
                                            "args": {},
                                            "id": "1",
                                            "name": "tool1",
                                            "type": "tool_call"
                                        }
                                    ],
                                    "tool_results": [
                                        {
                                            "content": "bla",
                                            "id": "1",
                                            "round": 1,
                                            "status": "success",
                                            "type": "tool_result"
                                        }
                                    ],
                                    "truncated": false
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "model override": {
                                        "value": {
                                            "detail": {
                                                "cause": "User lacks model_override permission required to override model/provider.",
                                                "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    },
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    },
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "Model with ID gpt-4-turbo is not configured",
                                                "response": "Model not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Quota limit exceeded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QuotaExceededResponse"
                                },
                                "examples": {
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                                                "response": "The model quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user none": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/streaming_query": {
            "post": {
                "tags": [
                    "streaming_query_v1"
                ],
                "summary": "Streaming Query Endpoint Handler V1",
                "description": "Handle request to the /streaming_query endpoint using Responses API.\n\nReturns a streaming response using Server-Sent Events (SSE) format with\ncontent type text/event-stream.\n\nReturns:\n    StreamingResponse: An HTTP streaming response yielding\n    SSE-formatted events for the query lifecycle with content type\n    text/event-stream.\n\nRaises:\n    HTTPException:\n        - 401: Unauthorized - Missing or invalid credentials\n        - 403: Forbidden - Insufficient permissions or model override not allowed\n        - 404: Not Found - Conversation, model, or provider not found\n        - 422: Unprocessable Entity - Request validation failed\n        - 429: Too Many Requests - Quota limit exceeded\n        - 500: Internal Server Error - Configuration not loaded or other server errors\n        - 503: Service Unavailable - Unable to connect to Llama Stack backend",
                "operationId": "streaming_query_endpoint_handler_v2_v1_streaming_query_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "text/event-stream": {
                                "schema": {
                                    "type": "string",
                                    "format": "text/event-stream"
                                },
                                "example": "data: {\"event\": \"start\", \"data\": {\"conversation_id\": \"123e4567-e89b-12d3-a456-426614174000\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 0, \"token\": \"No Violation\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 1, \"token\": \"\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 2, \"token\": \"Hello\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 3, \"token\": \"!\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 4, \"token\": \" How\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 5, \"token\": \" can\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 6, \"token\": \" I\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 7, \"token\": \" assist\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 8, \"token\": \" you\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 9, \"token\": \" today\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 10, \"token\": \"?\"}}\n\ndata: {\"event\": \"turn_complete\", \"data\": {\"token\": \"Hello! How can I assist you today?\"}}\n\ndata: {\"event\": \"end\", \"data\": {\"referenced_documents\": [], \"truncated\": null, \"input_tokens\": 11, \"output_tokens\": 19}, \"available_quotas\": {}}\n\n"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "model override": {
                                        "value": {
                                            "detail": {
                                                "cause": "User lacks model_override permission required to override model/provider.",
                                                "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    },
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    },
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "Model with ID gpt-4-turbo is not configured",
                                                "response": "Model not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Quota limit exceeded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QuotaExceededResponse"
                                },
                                "examples": {
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                                                "response": "The model quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user none": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/config": {
            "get": {
                "tags": [
                    "config"
                ],
                "summary": "Config Endpoint Handler",
                "description": "Handle requests to the /config endpoint.\n\nProcess GET requests to the /config endpoint and returns the\ncurrent service configuration.\n\nReturns:\n    ConfigurationResponse: The loaded service configuration response.",
                "operationId": "config_endpoint_handler_v1_config_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConfigurationResponse"
                                },
                                "example": {
                                    "configuration": {
                                        "authentication": {
                                            "module": "noop",
                                            "skip_tls_verification": false
                                        },
                                        "authorization": {
                                            "access_rules": []
                                        },
                                        "byok_rag": [],
                                        "conversation_cache": {},
                                        "database": {
                                            "sqlite": {
                                                "db_path": "/tmp/lightspeed-stack.db"
                                            }
                                        },
                                        "inference": {
                                            "default_model": "gpt-4-turbo",
                                            "default_provider": "openai"
                                        },
                                        "llama_stack": {
                                            "api_key": "*****",
                                            "url": "http://localhost:8321",
                                            "use_as_library_client": false
                                        },
                                        "mcp_servers": [
                                            {
                                                "name": "server1",
                                                "provider_id": "provider1",
                                                "url": "http://url.com:1"
                                            }
                                        ],
                                        "name": "lightspeed-stack",
                                        "quota_handlers": {
                                            "enable_token_history": false,
                                            "limiters": [],
                                            "scheduler": {
                                                "period": 1
                                            }
                                        },
                                        "service": {
                                            "access_log": true,
                                            "auth_enabled": false,
                                            "color_log": true,
                                            "cors": {
                                                "allow_credentials": false,
                                                "allow_headers": [
                                                    "*"
                                                ],
                                                "allow_methods": [
                                                    "*"
                                                ],
                                                "allow_origins": [
                                                    "*"
                                                ]
                                            },
                                            "host": "localhost",
                                            "port": 8080,
                                            "tls_config": {},
                                            "workers": 1
                                        },
                                        "user_data_collection": {
                                            "feedback_enabled": true,
                                            "feedback_storage": "/tmp/data/feedback",
                                            "transcripts_enabled": false,
                                            "transcripts_storage": "/tmp/data/transcripts"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/feedback": {
            "post": {
                "tags": [
                    "feedback"
                ],
                "summary": "Feedback Endpoint Handler",
                "description": "Handle feedback requests.\n\nProcesses a user feedback submission, storing the feedback and\nreturning a confirmation response.\n\nArgs:\n    feedback_request: The request containing feedback information.\n    ensure_feedback_enabled: The feedback handler (FastAPI Depends) that\n        will handle feedback status checks.\n    auth: The Authentication handler (FastAPI Depends) that will\n        handle authentication Logic.\n\nReturns:\n    Response indicating the status of the feedback storage request.\n\nRaises:\n    HTTPException: Returns HTTP 500 if feedback storage fails.",
                "operationId": "feedback_endpoint_handler_v1_feedback_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FeedbackRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedbackResponse"
                                },
                                "example": {
                                    "response": "feedback received"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "feedback": {
                                        "value": {
                                            "detail": {
                                                "cause": "Storing feedback is disabled.",
                                                "response": "Storing feedback is disabled"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "feedback storage": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to store feedback at directory: /path/example",
                                                "response": "Failed to store feedback"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/feedback/status": {
            "get": {
                "tags": [
                    "feedback"
                ],
                "summary": "Feedback Status",
                "description": "Handle feedback status requests.\n\nReturn the current enabled status of the feedback\nfunctionality.\n\nReturns:\n    StatusResponse: Indicates whether feedback collection is enabled.",
                "operationId": "feedback_status_v1_feedback_status_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StatusResponse"
                                },
                                "example": {
                                    "functionality": "feedback",
                                    "status": {
                                        "enabled": true
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "feedback"
                ],
                "summary": "Update Feedback Status",
                "description": "Handle feedback status update requests.\n\nTakes a request with the desired state of the feedback status.\nReturns the updated state of the feedback status based on the request's value.\nThese changes are for the life of the service and are on a per-worker basis.\n\nReturns:\n    FeedbackStatusUpdateResponse: Indicates whether feedback is enabled.",
                "operationId": "update_feedback_status_v1_feedback_status_put",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FeedbackStatusUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedbackStatusUpdateResponse"
                                },
                                "example": {
                                    "status": {
                                        "previous_status": true,
                                        "timestamp": "2023-03-15 12:34:56",
                                        "updated_by": "user/test",
                                        "updated_status": false
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/conversations": {
            "get": {
                "tags": [
                    "conversations_v1"
                ],
                "summary": "Conversations List Endpoint Handler V1",
                "description": "Handle request to retrieve all conversations for the authenticated user.",
                "operationId": "get_conversations_list_endpoint_handler_v1_conversations_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationsListResponse"
                                },
                                "example": {
                                    "conversations": [
                                        {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "created_at": "2024-01-01T00:00:00Z",
                                            "last_message_at": "2024-01-01T00:05:00Z",
                                            "last_used_model": "gemini/gemini-2.0-flash",
                                            "last_used_provider": "gemini",
                                            "message_count": 5,
                                            "topic_summary": "Openshift Microservices Deployment Strategies"
                                        },
                                        {
                                            "conversation_id": "456e7890-e12b-34d5-a678-901234567890",
                                            "created_at": "2024-01-01T01:00:00Z",
                                            "last_used_model": "gemini/gemini-2.5-flash",
                                            "last_used_provider": "gemini",
                                            "message_count": 2,
                                            "topic_summary": "RHDH Purpose Summary"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/conversations/{conversation_id}": {
            "get": {
                "tags": [
                    "conversations_v1"
                ],
                "summary": "Conversation Get Endpoint Handler V1",
                "description": "Handle request to retrieve a conversation by ID using Conversations API.\n\nRetrieve a conversation's chat history by its ID using the LlamaStack\nConversations API. This endpoint fetches the conversation items from\nthe backend, simplifies them to essential chat history, and returns\nthem in a structured response. Raises HTTP 400 for invalid IDs, 404\nif not found, 503 if the backend is unavailable, and 500 for\nunexpected errors.\n\nArgs:\n    request: The FastAPI request object\n    conversation_id: Unique identifier of the conversation to retrieve\n    auth: Authentication tuple from dependency\n\nReturns:\n    ConversationResponse: Structured response containing the conversation\n    ID and simplified chat history",
                "operationId": "get_conversation_endpoint_handler_v1_conversations__conversation_id__get",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationResponse"
                                },
                                "example": {
                                    "chat_history": [
                                        {
                                            "completed_at": "2024-01-01T00:01:05Z",
                                            "messages": [
                                                {
                                                    "content": "Hello",
                                                    "type": "user"
                                                },
                                                {
                                                    "content": "Hi there!",
                                                    "type": "assistant"
                                                }
                                            ],
                                            "started_at": "2024-01-01T00:01:00Z"
                                        }
                                    ],
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "conversations_v1"
                ],
                "summary": "Conversation Delete Endpoint Handler V1",
                "description": "Handle request to delete a conversation by ID using Conversations API.\n\nValidates the conversation ID format and attempts to delete the\nconversation from the Llama Stack backend using the Conversations API.\nRaises HTTP errors for invalid IDs, not found conversations, connection\nissues, or unexpected failures.\n\nArgs:\n    request: The FastAPI request object\n    conversation_id: Unique identifier of the conversation to delete\n    auth: Authentication tuple from dependency\n\nReturns:\n    ConversationDeleteResponse: Response indicating the result of the deletion operation",
                "operationId": "delete_conversation_endpoint_handler_v1_conversations__conversation_id__delete",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationDeleteResponse"
                                },
                                "examples": {
                                    "deleted": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation deleted successfully",
                                            "success": true
                                        }
                                    },
                                    "not found": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation can not be deleted",
                                            "success": true
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation delete": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to delete conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "conversations_v1"
                ],
                "summary": "Conversation Update Endpoint Handler V1",
                "description": "Handle request to update a conversation metadata using Conversations API.\n\nUpdates the conversation metadata (including topic summary) in both the\nLlamaStack backend using the Conversations API and the local database.\n\nArgs:\n    request: The FastAPI request object\n    conversation_id: Unique identifier of the conversation to update\n    update_request: Request containing the topic summary to update\n    auth: Authentication tuple from dependency\n\nReturns:\n    ConversationUpdateResponse: Response indicating the result of the update operation",
                "operationId": "update_conversation_endpoint_handler_v1_conversations__conversation_id__put",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ConversationUpdateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationUpdateResponse"
                                },
                                "example": {
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "message": "Topic summary updated successfully",
                                    "success": true
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations": {
            "get": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Get Conversations List Endpoint Handler",
                "description": "Handle request to retrieve all conversations for the authenticated user.",
                "operationId": "get_conversations_list_endpoint_handler_v2_conversations_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationsListResponseV2"
                                },
                                "example": {
                                    "conversations": [
                                        {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "last_message_timestamp": 1704067200.0,
                                            "topic_summary": "Openshift Microservices Deployment Strategies"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{conversation_id}": {
            "get": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Get Conversation Endpoint Handler",
                "description": "Handle request to retrieve a conversation by ID.",
                "operationId": "get_conversation_endpoint_handler_v2_conversations__conversation_id__get",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationResponse"
                                },
                                "example": {
                                    "chat_history": [
                                        {
                                            "completed_at": "2024-01-01T00:01:05Z",
                                            "messages": [
                                                {
                                                    "content": "Hello",
                                                    "type": "user"
                                                },
                                                {
                                                    "content": "Hi there!",
                                                    "type": "assistant"
                                                }
                                            ],
                                            "started_at": "2024-01-01T00:01:00Z"
                                        }
                                    ],
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Delete Conversation Endpoint Handler",
                "description": "Handle request to delete a conversation by ID.",
                "operationId": "delete_conversation_endpoint_handler_v2_conversations__conversation_id__delete",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationDeleteResponse"
                                },
                                "examples": {
                                    "deleted": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation deleted successfully",
                                            "success": true
                                        }
                                    },
                                    "not found": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation can not be deleted",
                                            "success": true
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Update Conversation Endpoint Handler",
                "description": "Handle request to update a conversation topic summary by ID.",
                "operationId": "update_conversation_endpoint_handler_v2_conversations__conversation_id__put",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ConversationUpdateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationUpdateResponse"
                                },
                                "example": {
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "message": "Topic summary updated successfully",
                                    "success": true
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/infer": {
            "post": {
                "tags": [
                    "rlsapi-v1"
                ],
                "summary": "Infer Endpoint",
                "description": "Handle rlsapi v1 /infer requests for stateless inference.\n\nThis endpoint serves requests from the RHEL Lightspeed Command Line Assistant (CLA).\n\nAccepts a question with optional context (stdin, attachments, terminal output,\nsystem info) and returns an LLM-generated response.\n\nArgs:\n    infer_request: The inference request containing question and context.\n    auth: Authentication tuple from the configured auth provider.\n\nReturns:\n    RlsapiV1InferResponse containing the generated response text and request ID.\n\nRaises:\n    HTTPException: 503 if the LLM service is unavailable.",
                "operationId": "infer_endpoint_v1_infer_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RlsapiV1InferRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RlsapiV1InferResponse"
                                },
                                "example": {
                                    "data": {
                                        "request_id": "01JDKR8N7QW9ZMXVGK3PB5TQWZ",
                                        "text": "To list files in Linux, use the `ls` command."
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/readiness": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Readiness Probe Get Method",
                "description": "Handle the readiness probe endpoint, returning service readiness.\n\nIf any provider reports an error status, responds with HTTP 503\nand details of unhealthy providers; otherwise, indicates the\nservice is ready.",
                "operationId": "readiness_probe_get_method_readiness_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReadinessResponse"
                                },
                                "example": {
                                    "providers": [],
                                    "ready": true,
                                    "reason": "Service is ready"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/liveness": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Liveness Probe Get Method",
                "description": "Return the liveness status of the service.\n\nReturns:\n    LivenessResponse: Indicates that the service is alive.",
                "operationId": "liveness_probe_get_method_liveness_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LivenessResponse"
                                },
                                "example": {
                                    "alive": true
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/authorized": {
            "post": {
                "tags": [
                    "authorized"
                ],
                "summary": "Authorized Endpoint Handler",
                "description": "Handle request to the /authorized endpoint.\n\nProcess POST requests to the /authorized endpoint, returning\nthe authenticated user's ID and username.\n\nReturns:\n    AuthorizedResponse: Contains the user ID and username of the authenticated user.",
                "operationId": "authorized_endpoint_handler_authorized_post",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthorizedResponse"
                                },
                                "example": {
                                    "skip_userid_check": false,
                                    "user_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "username": "user1"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/metrics": {
            "get": {
                "tags": [
                    "metrics"
                ],
                "summary": "Metrics Endpoint Handler",
                "description": "Handle request to the /metrics endpoint.\n\nProcess GET requests to the /metrics endpoint, returning the\nlatest Prometheus metrics in form of a plain text.\n\nInitializes model metrics on the first request if not already\nset up, then responds with the current metrics snapshot in\nPrometheus format.",
                "operationId": "metrics_endpoint_handler_metrics_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/.well-known/agent-card.json": {
            "get": {
                "tags": [
                    "a2a"
                ],
                "summary": "Get Agent Card",
                "description": "Serve the A2A Agent Card at the well-known location.\n\nThis endpoint provides the agent card that describes Lightspeed's\ncapabilities according to the A2A protocol specification.\n\nReturns:\n    AgentCard: The agent card describing this agent's capabilities.",
                "operationId": "get_agent_card__well_known_agent_card_json_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AgentCard"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/.well-known/agent.json": {
            "get": {
                "tags": [
                    "a2a"
                ],
                "summary": "Get Agent Card",
                "description": "Serve the A2A Agent Card at the well-known location.\n\nThis endpoint provides the agent card that describes Lightspeed's\ncapabilities according to the A2A protocol specification.\n\nReturns:\n    AgentCard: The agent card describing this agent's capabilities.",
                "operationId": "get_agent_card__well_known_agent_json_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AgentCard"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/a2a": {
            "get": {
                "tags": [
                    "a2a"
                ],
                "summary": "Handle A2A Jsonrpc",
                "description": "Handle A2A JSON-RPC requests following the A2A protocol specification.\n\nThis endpoint uses the DefaultRequestHandler from the A2A SDK to handle\nall JSON-RPC requests including message/send, message/stream, etc.\n\nThe A2A SDK application is created per-request to include authentication\ncontext while still leveraging FastAPI's authorization middleware.\n\nAutomatically detects streaming requests (message/stream JSON-RPC method)\nand returns a StreamingResponse to enable real-time chunk delivery.\n\nArgs:\n    request: FastAPI request object\n    auth: Authentication tuple\n    mcp_headers: MCP headers for context propagation\n\nReturns:\n    JSON-RPC response or streaming response",
                "operationId": "handle_a2a_jsonrpc_a2a_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "a2a"
                ],
                "summary": "Handle A2A Jsonrpc",
                "description": "Handle A2A JSON-RPC requests following the A2A protocol specification.\n\nThis endpoint uses the DefaultRequestHandler from the A2A SDK to handle\nall JSON-RPC requests including message/send, message/stream, etc.\n\nThe A2A SDK application is created per-request to include authentication\ncontext while still leveraging FastAPI's authorization middleware.\n\nAutomatically detects streaming requests (message/stream JSON-RPC method)\nand returns a StreamingResponse to enable real-time chunk delivery.\n\nArgs:\n    request: FastAPI request object\n    auth: Authentication tuple\n    mcp_headers: MCP headers for context propagation\n\nReturns:\n    JSON-RPC response or streaming response",
                "operationId": "handle_a2a_jsonrpc_a2a_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/a2a/health": {
            "get": {
                "tags": [
                    "a2a"
                ],
                "summary": "A2A Health Check",
                "description": "Health check endpoint for A2A service.\n\nReturns:\n    Dict with health status information.",
                "operationId": "a2a_health_check_a2a_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object",
                                    "title": "Response A2A Health Check A2A Health Get"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "A2AStateConfiguration": {
                "properties": {
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "SQLite configuration",
                        "description": "SQLite database configuration for A2A state storage."
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "PostgreSQL configuration",
                        "description": "PostgreSQL database configuration for A2A state storage."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "A2AStateConfiguration",
                "description": "A2A protocol persistent state configuration.\n\nConfigures how A2A task state and context-to-conversation mappings are\nstored. For multi-worker deployments, use SQLite or PostgreSQL to ensure\nstate is shared across all workers.\n\nIf no configuration is provided, in-memory storage is used (default).\nThis is suitable for single-worker deployments but state will be lost\non restarts and not shared across workers.\n\nAttributes:\n    sqlite: SQLite database configuration for A2A state storage.\n    postgres: PostgreSQL database configuration for A2A state storage."
            },
            "APIKeySecurityScheme": {
                "properties": {
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "in": {
                        "$ref": "#/components/schemas/In"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "type": {
                        "type": "string",
                        "const": "apiKey",
                        "title": "Type",
                        "default": "apiKey"
                    }
                },
                "type": "object",
                "required": [
                    "in",
                    "name"
                ],
                "title": "APIKeySecurityScheme",
                "description": "Defines a security scheme using an API key."
            },
            "APIKeyTokenConfiguration": {
                "properties": {
                    "api_key": {
                        "type": "string",
                        "minLength": 1,
                        "format": "password",
                        "title": "API key",
                        "writeOnly": true,
                        "examples": [
                            "some-api-key"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "api_key"
                ],
                "title": "APIKeyTokenConfiguration",
                "description": "API Key Token configuration."
            },
            "AccessRule": {
                "properties": {
                    "role": {
                        "type": "string",
                        "title": "Role name",
                        "description": "Name of the role"
                    },
                    "actions": {
                        "items": {
                            "$ref": "#/components/schemas/Action"
                        },
                        "type": "array",
                        "title": "Allowed actions",
                        "description": "Allowed actions for this role"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "role",
                    "actions"
                ],
                "title": "AccessRule",
                "description": "Rule defining what actions a role can perform."
            },
            "Action": {
                "type": "string",
                "enum": [
                    "admin",
                    "list_other_conversations",
                    "read_other_conversations",
                    "query_other_conversations",
                    "delete_other_conversations",
                    "query",
                    "streaming_query",
                    "get_conversation",
                    "list_conversations",
                    "delete_conversation",
                    "update_conversation",
                    "feedback",
                    "get_models",
                    "get_tools",
                    "get_shields",
                    "list_providers",
                    "get_provider",
                    "list_rags",
                    "get_rag",
                    "get_metrics",
                    "get_config",
                    "info",
                    "model_override",
                    "rlsapi_v1_infer",
                    "a2a_agent_card",
                    "a2a_task_execution",
                    "a2a_message",
                    "a2a_jsonrpc"
                ],
                "title": "Action",
                "description": "Available actions in the system.\n\nNote: this is not a real model, just an enumeration of all action names."
            },
            "AgentCapabilities": {
                "properties": {
                    "extensions": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/AgentExtension"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Extensions"
                    },
                    "pushNotifications": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Pushnotifications"
                    },
                    "stateTransitionHistory": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Statetransitionhistory"
                    },
                    "streaming": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Streaming"
                    }
                },
                "type": "object",
                "title": "AgentCapabilities",
                "description": "Defines optional capabilities supported by an agent."
            },
            "AgentCard": {
                "properties": {
                    "additionalInterfaces": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/AgentInterface"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Additionalinterfaces"
                    },
                    "capabilities": {
                        "$ref": "#/components/schemas/AgentCapabilities"
                    },
                    "defaultInputModes": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Defaultinputmodes"
                    },
                    "defaultOutputModes": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Defaultoutputmodes"
                    },
                    "description": {
                        "type": "string",
                        "title": "Description",
                        "examples": [
                            "Agent that helps users with recipes and cooking."
                        ]
                    },
                    "documentationUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Documentationurl"
                    },
                    "iconUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Iconurl"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "examples": [
                            "Recipe Agent"
                        ]
                    },
                    "preferredTransport": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Preferredtransport",
                        "default": "JSONRPC",
                        "examples": [
                            "JSONRPC",
                            "GRPC",
                            "HTTP+JSON"
                        ]
                    },
                    "protocolVersion": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Protocolversion",
                        "default": "0.3.0"
                    },
                    "provider": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/AgentProvider"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "security": {
                        "anyOf": [
                            {
                                "items": {
                                    "additionalProperties": {
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Security",
                        "examples": [
                            [
                                {
                                    "oauth": [
                                        "read"
                                    ]
                                },
                                {
                                    "api-key": [],
                                    "mtls": []
                                }
                            ]
                        ]
                    },
                    "securitySchemes": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "$ref": "#/components/schemas/SecurityScheme"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Securityschemes"
                    },
                    "signatures": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/AgentCardSignature"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Signatures"
                    },
                    "skills": {
                        "items": {
                            "$ref": "#/components/schemas/AgentSkill"
                        },
                        "type": "array",
                        "title": "Skills"
                    },
                    "supportsAuthenticatedExtendedCard": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Supportsauthenticatedextendedcard"
                    },
                    "url": {
                        "type": "string",
                        "title": "Url",
                        "examples": [
                            "https://api.example.com/a2a/v1"
                        ]
                    },
                    "version": {
                        "type": "string",
                        "title": "Version",
                        "examples": [
                            "1.0.0"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "capabilities",
                    "defaultInputModes",
                    "defaultOutputModes",
                    "description",
                    "name",
                    "skills",
                    "url",
                    "version"
                ],
                "title": "AgentCard",
                "description": "The AgentCard is a self-describing manifest for an agent. It provides essential\nmetadata including the agent's identity, capabilities, skills, supported\ncommunication methods, and security requirements."
            },
            "AgentCardSignature": {
                "properties": {
                    "header": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Header"
                    },
                    "protected": {
                        "type": "string",
                        "title": "Protected"
                    },
                    "signature": {
                        "type": "string",
                        "title": "Signature"
                    }
                },
                "type": "object",
                "required": [
                    "protected",
                    "signature"
                ],
                "title": "AgentCardSignature",
                "description": "AgentCardSignature represents a JWS signature of an AgentCard.\nThis follows the JSON format of an RFC 7515 JSON Web Signature (JWS)."
            },
            "AgentExtension": {
                "properties": {
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "params": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Params"
                    },
                    "required": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Required"
                    },
                    "uri": {
                        "type": "string",
                        "title": "Uri"
                    }
                },
                "type": "object",
                "required": [
                    "uri"
                ],
                "title": "AgentExtension",
                "description": "A declaration of a protocol extension supported by an Agent."
            },
            "AgentInterface": {
                "properties": {
                    "transport": {
                        "type": "string",
                        "title": "Transport",
                        "examples": [
                            "JSONRPC",
                            "GRPC",
                            "HTTP+JSON"
                        ]
                    },
                    "url": {
                        "type": "string",
                        "title": "Url",
                        "examples": [
                            "https://api.example.com/a2a/v1",
                            "https://grpc.example.com/a2a",
                            "https://rest.example.com/v1"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "transport",
                    "url"
                ],
                "title": "AgentInterface",
                "description": "Declares a combination of a target URL and a transport protocol for interacting with the agent.\nThis allows agents to expose the same functionality over multiple transport mechanisms."
            },
            "AgentProvider": {
                "properties": {
                    "organization": {
                        "type": "string",
                        "title": "Organization"
                    },
                    "url": {
                        "type": "string",
                        "title": "Url"
                    }
                },
                "type": "object",
                "required": [
                    "organization",
                    "url"
                ],
                "title": "AgentProvider",
                "description": "Represents the service provider of an agent."
            },
            "AgentSkill": {
                "properties": {
                    "description": {
                        "type": "string",
                        "title": "Description"
                    },
                    "examples": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Examples",
                        "examples": [
                            [
                                "I need a recipe for bread"
                            ]
                        ]
                    },
                    "id": {
                        "type": "string",
                        "title": "Id"
                    },
                    "inputModes": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Inputmodes"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "outputModes": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Outputmodes"
                    },
                    "security": {
                        "anyOf": [
                            {
                                "items": {
                                    "additionalProperties": {
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Security",
                        "examples": [
                            [
                                {
                                    "google": [
                                        "oidc"
                                    ]
                                }
                            ]
                        ]
                    },
                    "tags": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Tags",
                        "examples": [
                            [
                                "cooking",
                                "customer support",
                                "billing"
                            ]
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "description",
                    "id",
                    "name",
                    "tags"
                ],
                "title": "AgentSkill",
                "description": "Represents a distinct capability or function that an agent can perform."
            },
            "Attachment": {
                "properties": {
                    "attachment_type": {
                        "type": "string",
                        "title": "Attachment Type",
                        "description": "The attachment type, like 'log', 'configuration' etc.",
                        "examples": [
                            "log"
                        ]
                    },
                    "content_type": {
                        "type": "string",
                        "title": "Content Type",
                        "description": "The content type as defined in MIME standard",
                        "examples": [
                            "text/plain"
                        ]
                    },
                    "content": {
                        "type": "string",
                        "title": "Content",
                        "description": "The actual attachment content",
                        "examples": [
                            "warning: quota exceeded"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "attachment_type",
                    "content_type",
                    "content"
                ],
                "title": "Attachment",
                "description": "Model representing an attachment that can be send from the UI as part of query.\n\nA list of attachments can be an optional part of 'query' request.\n\nAttributes:\n    attachment_type: The attachment type, like \"log\", \"configuration\" etc.\n    content_type: The content type as defined in MIME standard\n    content: The actual attachment content\n\nYAML attachments with **kind** and **metadata/name** attributes will\nbe handled as resources with the specified name:\n```\nkind: Pod\nmetadata:\n    name: private-reg\n```",
                "examples": [
                    {
                        "attachment_type": "log",
                        "content": "this is attachment",
                        "content_type": "text/plain"
                    },
                    {
                        "attachment_type": "configuration",
                        "content": "kind: Pod\n metadata:\n name:    private-reg",
                        "content_type": "application/yaml"
                    },
                    {
                        "attachment_type": "configuration",
                        "content": "foo: bar",
                        "content_type": "application/yaml"
                    }
                ]
            },
            "AuthenticationConfiguration": {
                "properties": {
                    "module": {
                        "type": "string",
                        "title": "Module",
                        "default": "noop"
                    },
                    "skip_tls_verification": {
                        "type": "boolean",
                        "title": "Skip Tls Verification",
                        "default": false
                    },
                    "skip_for_health_probes": {
                        "type": "boolean",
                        "title": "Skip authentication for probes",
                        "description": "Skip authentication for readiness and liveness probes",
                        "default": false
                    },
                    "k8s_cluster_api": {
                        "anyOf": [
                            {
                                "type": "string",
                                "minLength": 1,
                                "format": "uri"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "K8S Cluster Api"
                    },
                    "k8s_ca_cert_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "K8S Ca Cert Path"
                    },
                    "jwk_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/JwkConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "api_key_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/APIKeyTokenConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "rh_identity_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RHIdentityConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "AuthenticationConfiguration",
                "description": "Authentication configuration."
            },
            "AuthorizationCodeOAuthFlow": {
                "properties": {
                    "authorizationUrl": {
                        "type": "string",
                        "title": "Authorizationurl"
                    },
                    "refreshUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Refreshurl"
                    },
                    "scopes": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Scopes"
                    },
                    "tokenUrl": {
                        "type": "string",
                        "title": "Tokenurl"
                    }
                },
                "type": "object",
                "required": [
                    "authorizationUrl",
                    "scopes",
                    "tokenUrl"
                ],
                "title": "AuthorizationCodeOAuthFlow",
                "description": "Defines configuration details for the OAuth 2.0 Authorization Code flow."
            },
            "AuthorizationConfiguration": {
                "properties": {
                    "access_rules": {
                        "items": {
                            "$ref": "#/components/schemas/AccessRule"
                        },
                        "type": "array",
                        "title": "Access rules",
                        "description": "Rules for role-based access control"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "AuthorizationConfiguration",
                "description": "Authorization configuration."
            },
            "AuthorizedResponse": {
                "properties": {
                    "user_id": {
                        "type": "string",
                        "title": "User Id",
                        "description": "User ID, for example UUID",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "username": {
                        "type": "string",
                        "title": "Username",
                        "description": "User name",
                        "examples": [
                            "John Doe",
                            "Adam Smith"
                        ]
                    },
                    "skip_userid_check": {
                        "type": "boolean",
                        "title": "Skip Userid Check",
                        "description": "Whether to skip the user ID check",
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "username",
                    "skip_userid_check"
                ],
                "title": "AuthorizedResponse",
                "description": "Model representing a response to an authorization request.\n\nAttributes:\n    user_id: The ID of the logged in user.\n    username: The name of the logged in user.\n    skip_userid_check: Whether to skip the user ID check.",
                "examples": [
                    {
                        "skip_userid_check": false,
                        "user_id": "123e4567-e89b-12d3-a456-426614174000",
                        "username": "user1"
                    }
                ]
            },
            "BadRequestResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "BadRequestResponse",
                "description": "400 Bad Request. Invalid resource identifier.",
                "examples": [
                    {
                        "detail": {
                            "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                            "response": "Invalid conversation ID format"
                        },
                        "label": "conversation_id"
                    }
                ]
            },
            "ByokRag": {
                "properties": {
                    "rag_id": {
                        "type": "string",
                        "minLength": 1,
                        "title": "RAG ID",
                        "description": "Unique RAG ID"
                    },
                    "rag_type": {
                        "type": "string",
                        "minLength": 1,
                        "title": "RAG type",
                        "description": "Type of RAG database.",
                        "default": "inline::faiss"
                    },
                    "embedding_model": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Embedding model",
                        "description": "Embedding model identification",
                        "default": "sentence-transformers/all-mpnet-base-v2"
                    },
                    "embedding_dimension": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Embedding dimension",
                        "description": "Dimensionality of embedding vectors.",
                        "default": 768
                    },
                    "vector_db_id": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Vector DB ID",
                        "description": "Vector DB identification."
                    },
                    "db_path": {
                        "type": "string",
                        "format": "file-path",
                        "title": "DB path",
                        "description": "Path to RAG database."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "rag_id",
                    "vector_db_id",
                    "db_path"
                ],
                "title": "ByokRag",
                "description": "BYOK (Bring Your Own Knowledge) RAG configuration."
            },
            "CORSConfiguration": {
                "properties": {
                    "allow_origins": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Allow origins",
                        "description": "A list of origins allowed for cross-origin requests. An origin is the combination of protocol (http, https), domain (myapp.com, localhost, localhost.tiangolo.com), and port (80, 443, 8080). Use ['*'] to allow all origins.",
                        "default": [
                            "*"
                        ]
                    },
                    "allow_credentials": {
                        "type": "boolean",
                        "title": "Allow credentials",
                        "description": "Indicate that cookies should be supported for cross-origin requests",
                        "default": false
                    },
                    "allow_methods": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Allow methods",
                        "description": "A list of HTTP methods that should be allowed for cross-origin requests. You can use ['*'] to allow all standard methods.",
                        "default": [
                            "*"
                        ]
                    },
                    "allow_headers": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Allow headers",
                        "description": "A list of HTTP request headers that should be supported for cross-origin requests. You can use ['*'] to allow all headers. The Accept, Accept-Language, Content-Language and Content-Type headers are always allowed for simple CORS requests.",
                        "default": [
                            "*"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "CORSConfiguration",
                "description": "CORS configuration.\n\nCORS or 'Cross-Origin Resource Sharing' refers to the situations when a\nfrontend running in a browser has JavaScript code that communicates with a\nbackend, and the backend is in a different 'origin' than the frontend.\n\nUseful resources:\n\n  - [CORS in FastAPI](https://fastapi.tiangolo.com/tutorial/cors/)\n  - [Wikipedia article](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)\n  - [What is CORS?](https://dev.to/akshay_chauhan/what-is-cors-explained-8f1)"
            },
            "ClientCredentialsOAuthFlow": {
                "properties": {
                    "refreshUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Refreshurl"
                    },
                    "scopes": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Scopes"
                    },
                    "tokenUrl": {
                        "type": "string",
                        "title": "Tokenurl"
                    }
                },
                "type": "object",
                "required": [
                    "scopes",
                    "tokenUrl"
                ],
                "title": "ClientCredentialsOAuthFlow",
                "description": "Defines configuration details for the OAuth 2.0 Client Credentials flow."
            },
            "Configuration": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Service name",
                        "description": "Name of the service. That value will be used in REST API endpoints."
                    },
                    "service": {
                        "$ref": "#/components/schemas/ServiceConfiguration",
                        "title": "Service configuration",
                        "description": "This section contains Lightspeed Core Stack service configuration."
                    },
                    "llama_stack": {
                        "$ref": "#/components/schemas/LlamaStackConfiguration",
                        "title": "Llama Stack configuration",
                        "description": "This section contains Llama Stack configuration. Lightspeed Core Stack service can call Llama Stack in library mode or in server mode."
                    },
                    "user_data_collection": {
                        "$ref": "#/components/schemas/UserDataCollection",
                        "title": "User data collection configuration",
                        "description": "This section contains configuration for subsystem that collects user data(transcription history and feedbacks)."
                    },
                    "database": {
                        "$ref": "#/components/schemas/DatabaseConfiguration",
                        "title": "Database Configuration",
                        "description": "Configuration for database to store conversation IDs and other runtime data"
                    },
                    "mcp_servers": {
                        "items": {
                            "$ref": "#/components/schemas/ModelContextProtocolServer"
                        },
                        "type": "array",
                        "title": "Model Context Protocol Server and tools configuration",
                        "description": "MCP (Model Context Protocol) servers provide tools and capabilities to the AI agents. These are configured in this section. Only MCP servers defined in the lightspeed-stack.yaml configuration are available to the agents. Tools configured in the llama-stack run.yaml are not accessible to lightspeed-core agents."
                    },
                    "authentication": {
                        "$ref": "#/components/schemas/AuthenticationConfiguration",
                        "title": "Authentication configuration",
                        "description": "Authentication configuration"
                    },
                    "authorization": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/AuthorizationConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Authorization configuration",
                        "description": "Lightspeed Core Stack implements a modular authentication and authorization system with multiple authentication methods. Authorization is configurable through role-based access control. Authentication is handled through selectable modules configured via the module field in the authentication configuration."
                    },
                    "customization": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Customization"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Custom profile configuration",
                        "description": "It is possible to customize Lightspeed Core Stack via this section. System prompt can be customized and also different parts of the service can be replaced by custom Python modules."
                    },
                    "inference": {
                        "$ref": "#/components/schemas/InferenceConfiguration",
                        "title": "Inference configuration",
                        "description": "One LLM provider and one its model might be selected as default ones. When no provider+model pair is specified in REST API calls (query endpoints), the default provider and model are used."
                    },
                    "conversation_cache": {
                        "$ref": "#/components/schemas/ConversationHistoryConfiguration",
                        "title": "Conversation history configuration"
                    },
                    "byok_rag": {
                        "items": {
                            "$ref": "#/components/schemas/ByokRag"
                        },
                        "type": "array",
                        "title": "BYOK RAG configuration",
                        "description": "BYOK RAG configuration. This configuration can be used to reconfigure Llama Stack through its run.yaml configuration file"
                    },
                    "a2a_state": {
                        "$ref": "#/components/schemas/A2AStateConfiguration",
                        "title": "A2A state configuration",
                        "description": "Configuration for A2A protocol persistent state storage."
                    },
                    "quota_handlers": {
                        "$ref": "#/components/schemas/QuotaHandlersConfiguration",
                        "title": "Quota handlers",
                        "description": "Quota handlers configuration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "name",
                    "service",
                    "llama_stack",
                    "user_data_collection"
                ],
                "title": "Configuration",
                "description": "Global service configuration."
            },
            "ConfigurationResponse": {
                "properties": {
                    "configuration": {
                        "$ref": "#/components/schemas/Configuration"
                    }
                },
                "type": "object",
                "required": [
                    "configuration"
                ],
                "title": "ConfigurationResponse",
                "description": "Success response model for the config endpoint.",
                "examples": [
                    {
                        "configuration": {
                            "authentication": {
                                "module": "noop",
                                "skip_tls_verification": false
                            },
                            "authorization": {
                                "access_rules": []
                            },
                            "byok_rag": [],
                            "conversation_cache": {},
                            "database": {
                                "sqlite": {
                                    "db_path": "/tmp/lightspeed-stack.db"
                                }
                            },
                            "inference": {
                                "default_model": "gpt-4-turbo",
                                "default_provider": "openai"
                            },
                            "llama_stack": {
                                "api_key": "*****",
                                "url": "http://localhost:8321",
                                "use_as_library_client": false
                            },
                            "mcp_servers": [
                                {
                                    "name": "server1",
                                    "provider_id": "provider1",
                                    "url": "http://url.com:1"
                                }
                            ],
                            "name": "lightspeed-stack",
                            "quota_handlers": {
                                "enable_token_history": false,
                                "limiters": [],
                                "scheduler": {
                                    "period": 1
                                }
                            },
                            "service": {
                                "access_log": true,
                                "auth_enabled": false,
                                "color_log": true,
                                "cors": {
                                    "allow_credentials": false,
                                    "allow_headers": [
                                        "*"
                                    ],
                                    "allow_methods": [
                                        "*"
                                    ],
                                    "allow_origins": [
                                        "*"
                                    ]
                                },
                                "host": "localhost",
                                "port": 8080,
                                "tls_config": {},
                                "workers": 1
                            },
                            "user_data_collection": {
                                "feedback_enabled": true,
                                "feedback_storage": "/tmp/data/feedback",
                                "transcripts_enabled": false,
                                "transcripts_storage": "/tmp/data/transcripts"
                            }
                        }
                    }
                ]
            },
            "ConversationData": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id"
                    },
                    "topic_summary": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Topic Summary"
                    },
                    "last_message_timestamp": {
                        "type": "number",
                        "title": "Last Message Timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "topic_summary",
                    "last_message_timestamp"
                ],
                "title": "ConversationData",
                "description": "Model representing conversation data returned by cache list operations.\n\nAttributes:\n    conversation_id: The conversation ID\n    topic_summary: The topic summary for the conversation (can be None)\n    last_message_timestamp: The timestamp of the last message in the conversation"
            },
            "ConversationDeleteResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "The conversation ID (UUID) that was deleted.",
                        "examples": [
                            "123e4567-e89b-12d3-a456-426614174000"
                        ]
                    },
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Whether the deletion was successful.",
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "A message about the deletion result.",
                        "examples": [
                            "Conversation deleted successfully",
                            "Conversation cannot be deleted"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "success",
                    "response"
                ],
                "title": "ConversationDeleteResponse",
                "description": "Model representing a response for deleting a conversation.\n\nAttributes:\n    conversation_id: The conversation ID (UUID) that was deleted.\n    success: Whether the deletion was successful.\n    response: A message about the deletion result.",
                "examples": [
                    {
                        "label": "deleted",
                        "value": {
                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                            "response": "Conversation deleted successfully",
                            "success": true
                        }
                    },
                    {
                        "label": "not found",
                        "value": {
                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                            "response": "Conversation can not be deleted",
                            "success": true
                        }
                    }
                ]
            },
            "ConversationDetails": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "When the conversation was created",
                        "examples": [
                            "2024-01-01T01:00:00Z"
                        ]
                    },
                    "last_message_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Message At",
                        "description": "When the last message was sent",
                        "examples": [
                            "2024-01-01T01:00:00Z"
                        ]
                    },
                    "message_count": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Message Count",
                        "description": "Number of user messages in the conversation",
                        "examples": [
                            42
                        ]
                    },
                    "last_used_model": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Used Model",
                        "description": "Identification of the last model used for the conversation",
                        "examples": [
                            "gpt-4-turbo",
                            "gpt-3.5-turbo-0125"
                        ]
                    },
                    "last_used_provider": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Used Provider",
                        "description": "Identification of the last provider used for the conversation",
                        "examples": [
                            "openai",
                            "gemini"
                        ]
                    },
                    "topic_summary": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Topic Summary",
                        "description": "Topic summary for the conversation",
                        "examples": [
                            "Openshift Microservices Deployment Strategies"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id"
                ],
                "title": "ConversationDetails",
                "description": "Model representing the details of a user conversation.\n\nAttributes:\n    conversation_id: The conversation ID (UUID).\n    created_at: When the conversation was created.\n    last_message_at: When the last message was sent.\n    message_count: Number of user messages in the conversation.\n    last_used_model: The last model used for the conversation.\n    last_used_provider: The provider of the last used model.\n    topic_summary: The topic summary for the conversation."
            },
            "ConversationHistoryConfiguration": {
                "properties": {
                    "type": {
                        "anyOf": [
                            {
                                "type": "string",
                                "enum": [
                                    "noop",
                                    "memory",
                                    "sqlite",
                                    "postgres"
                                ]
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation history database type",
                        "description": "Type of database where the conversation history is to be stored."
                    },
                    "memory": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/InMemoryCacheConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "In-memory cache configuration",
                        "description": "In-memory cache configuration"
                    },
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "SQLite configuration",
                        "description": "SQLite database configuration"
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "PostgreSQL configuration",
                        "description": "PostgreSQL database configuration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "ConversationHistoryConfiguration",
                "description": "Conversation history configuration."
            },
            "ConversationResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "chat_history": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Chat History",
                        "description": "The simplified chat history as a list of conversation turns",
                        "examples": [
                            {
                                "completed_at": "2024-01-01T00:01:05Z",
                                "messages": [
                                    {
                                        "content": "Hello",
                                        "type": "user"
                                    },
                                    {
                                        "content": "Hi there!",
                                        "type": "assistant"
                                    }
                                ],
                                "started_at": "2024-01-01T00:01:00Z"
                            }
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "chat_history"
                ],
                "title": "ConversationResponse",
                "description": "Model representing a response for retrieving a conversation.\n\nAttributes:\n    conversation_id: The conversation ID (UUID).\n    chat_history: The simplified chat history as a list of conversation turns.",
                "examples": [
                    {
                        "chat_history": [
                            {
                                "completed_at": "2024-01-01T00:01:05Z",
                                "messages": [
                                    {
                                        "content": "Hello",
                                        "type": "user"
                                    },
                                    {
                                        "content": "Hi there!",
                                        "type": "assistant"
                                    }
                                ],
                                "started_at": "2024-01-01T00:01:00Z"
                            }
                        ],
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000"
                    }
                ]
            },
            "ConversationUpdateRequest": {
                "properties": {
                    "topic_summary": {
                        "type": "string",
                        "maxLength": 1000,
                        "minLength": 1,
                        "title": "Topic Summary",
                        "description": "The new topic summary for the conversation",
                        "examples": [
                            "Discussion about machine learning algorithms"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "topic_summary"
                ],
                "title": "ConversationUpdateRequest",
                "description": "Model representing a request to update a conversation topic summary.\n\nAttributes:\n    topic_summary: The new topic summary for the conversation.\n\nExample:\n    ```python\n    update_request = ConversationUpdateRequest(\n        topic_summary=\"Discussion about machine learning algorithms\"\n    )\n    ```"
            },
            "ConversationUpdateResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "The conversation ID (UUID) that was updated"
                    },
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Whether the update was successful"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "A message about the update result"
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "success",
                    "message"
                ],
                "title": "ConversationUpdateResponse",
                "description": "Model representing a response for updating a conversation topic summary.\n\nAttributes:\n    conversation_id: The conversation ID (UUID) that was updated.\n    success: Whether the update was successful.\n    message: A message about the update result.",
                "examples": [
                    {
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                        "message": "Topic summary updated successfully",
                        "success": true
                    }
                ]
            },
            "ConversationsListResponse": {
                "properties": {
                    "conversations": {
                        "items": {
                            "$ref": "#/components/schemas/ConversationDetails"
                        },
                        "type": "array",
                        "title": "Conversations"
                    }
                },
                "type": "object",
                "required": [
                    "conversations"
                ],
                "title": "ConversationsListResponse",
                "description": "Model representing a response for listing conversations of a user.\n\nAttributes:\n    conversations: List of conversation details associated with the user.",
                "examples": [
                    {
                        "conversations": [
                            {
                                "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                "created_at": "2024-01-01T00:00:00Z",
                                "last_message_at": "2024-01-01T00:05:00Z",
                                "last_used_model": "gemini/gemini-2.0-flash",
                                "last_used_provider": "gemini",
                                "message_count": 5,
                                "topic_summary": "Openshift Microservices Deployment Strategies"
                            },
                            {
                                "conversation_id": "456e7890-e12b-34d5-a678-901234567890",
                                "created_at": "2024-01-01T01:00:00Z",
                                "last_used_model": "gemini/gemini-2.5-flash",
                                "last_used_provider": "gemini",
                                "message_count": 2,
                                "topic_summary": "RHDH Purpose Summary"
                            }
                        ]
                    }
                ]
            },
            "ConversationsListResponseV2": {
                "properties": {
                    "conversations": {
                        "items": {
                            "$ref": "#/components/schemas/ConversationData"
                        },
                        "type": "array",
                        "title": "Conversations"
                    }
                },
                "type": "object",
                "required": [
                    "conversations"
                ],
                "title": "ConversationsListResponseV2",
                "description": "Model representing a response for listing conversations of a user.\n\nAttributes:\n    conversations: List of conversation data associated with the user.",
                "examples": [
                    {
                        "conversations": [
                            {
                                "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                "last_message_timestamp": 1704067200.0,
                                "topic_summary": "Openshift Microservices Deployment Strategies"
                            }
                        ]
                    }
                ]
            },
            "CustomProfile": {
                "properties": {
                    "path": {
                        "type": "string",
                        "title": "Path to custom profile",
                        "description": "Path to Python modules containing custom profile."
                    },
                    "prompts": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "System prompts",
                        "description": "Dictionary containing map of system prompts",
                        "default": {}
                    }
                },
                "type": "object",
                "required": [
                    "path"
                ],
                "title": "CustomProfile",
                "description": "Custom profile customization for prompts and validation."
            },
            "Customization": {
                "properties": {
                    "profile_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Profile Path"
                    },
                    "disable_query_system_prompt": {
                        "type": "boolean",
                        "title": "Disable Query System Prompt",
                        "default": false
                    },
                    "system_prompt_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "System Prompt Path"
                    },
                    "system_prompt": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "System Prompt"
                    },
                    "agent_card_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Agent Card Path"
                    },
                    "agent_card_config": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Agent Card Config"
                    },
                    "custom_profile": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/CustomProfile"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "Customization",
                "description": "Service customization."
            },
            "DatabaseConfiguration": {
                "properties": {
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "SQLite configuration",
                        "description": "SQLite database configuration"
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "PostgreSQL configuration",
                        "description": "PostgreSQL database configuration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "DatabaseConfiguration",
                "description": "Database configuration."
            },
            "DetailModel": {
                "properties": {
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "Short summary of the error"
                    },
                    "cause": {
                        "type": "string",
                        "title": "Cause",
                        "description": "Detailed explanation of what caused the error"
                    }
                },
                "type": "object",
                "required": [
                    "response",
                    "cause"
                ],
                "title": "DetailModel",
                "description": "Nested detail model for error responses."
            },
            "FeedbackCategory": {
                "type": "string",
                "enum": [
                    "incorrect",
                    "not_relevant",
                    "incomplete",
                    "outdated_information",
                    "unsafe",
                    "other"
                ],
                "title": "FeedbackCategory",
                "description": "Enum representing predefined feedback categories for AI responses.\n\nThese categories help provide structured feedback about AI inference quality\nwhen users provide negative feedback (thumbs down). Multiple categories can\nbe selected to provide comprehensive feedback about response issues."
            },
            "FeedbackRequest": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "The required conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "user_question": {
                        "type": "string",
                        "title": "User Question",
                        "description": "User question (the query string)",
                        "examples": [
                            "What is Kubernetes?"
                        ]
                    },
                    "llm_response": {
                        "type": "string",
                        "title": "Llm Response",
                        "description": "Response from LLM",
                        "examples": [
                            "Kubernetes is an open-source container orchestration system for automating ..."
                        ]
                    },
                    "sentiment": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Sentiment",
                        "description": "User sentiment, if provided must be -1 or 1",
                        "examples": [
                            -1,
                            1
                        ]
                    },
                    "user_feedback": {
                        "anyOf": [
                            {
                                "type": "string",
                                "maxLength": 4096
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "User Feedback",
                        "description": "Feedback on the LLM response.",
                        "examples": [
                            "I'm not satisfied with the response because it is too vague."
                        ]
                    },
                    "categories": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/FeedbackCategory"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Categories",
                        "description": "List of feedback categories that describe issues with the LLM response (for negative feedback).",
                        "examples": [
                            [
                                "incorrect",
                                "incomplete"
                            ]
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "conversation_id",
                    "user_question",
                    "llm_response"
                ],
                "title": "FeedbackRequest",
                "description": "Model representing a feedback request.\n\nAttributes:\n    conversation_id: The required conversation ID (UUID).\n    user_question: The required user question.\n    llm_response: The required LLM response.\n    sentiment: The optional sentiment.\n    user_feedback: The optional user feedback.\n    categories: The optional list of feedback categories (multi-select for negative feedback).\n\nExample:\n    ```python\n    feedback_request = FeedbackRequest(\n        conversation_id=\"12345678-abcd-0000-0123-456789abcdef\",\n        user_question=\"what are you doing?\",\n        user_feedback=\"This response is not helpful\",\n        llm_response=\"I don't know\",\n        sentiment=-1,\n        categories=[FeedbackCategory.INCORRECT, FeedbackCategory.INCOMPLETE]\n    )\n    ```",
                "examples": [
                    {
                        "conversation_id": "12345678-abcd-0000-0123-456789abcdef",
                        "llm_response": "bar",
                        "sentiment": -1,
                        "user_feedback": "Not satisfied with the response quality.",
                        "user_question": "foo"
                    },
                    {
                        "categories": [
                            "incorrect"
                        ],
                        "conversation_id": "12345678-abcd-0000-0123-456789abcdef",
                        "llm_response": "The capital of France is Berlin.",
                        "sentiment": -1,
                        "user_question": "What is the capital of France?"
                    },
                    {
                        "categories": [
                            "incomplete",
                            "not_relevant"
                        ],
                        "conversation_id": "12345678-abcd-0000-0123-456789abcdef",
                        "llm_response": "Use Docker.",
                        "sentiment": -1,
                        "user_feedback": "This response is too general and doesn't provide specific steps.",
                        "user_question": "How do I deploy a web app?"
                    }
                ]
            },
            "FeedbackResponse": {
                "properties": {
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "The response of the feedback request.",
                        "examples": [
                            "feedback received"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "response"
                ],
                "title": "FeedbackResponse",
                "description": "Model representing a response to a feedback request.\n\nAttributes:\n    response: The response of the feedback request.",
                "examples": [
                    {
                        "response": "feedback received"
                    }
                ]
            },
            "FeedbackStatusUpdateRequest": {
                "properties": {
                    "status": {
                        "type": "boolean",
                        "title": "Status",
                        "description": "Desired state of feedback enablement, must be False or True",
                        "default": false,
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "FeedbackStatusUpdateRequest",
                "description": "Model representing a feedback status update request.\n\nAttributes:\n    status: Value of the desired feedback enabled state.\n\nExample:\n    ```python\n    feedback_request = FeedbackRequest(\n        status=false\n    )\n    ```"
            },
            "FeedbackStatusUpdateResponse": {
                "properties": {
                    "status": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Status"
                    }
                },
                "type": "object",
                "required": [
                    "status"
                ],
                "title": "FeedbackStatusUpdateResponse",
                "description": "Model representing a response to a feedback status update request.\n\nAttributes:\n    status: The previous and current status of the service and who updated it.",
                "examples": [
                    {
                        "status": {
                            "previous_status": true,
                            "timestamp": "2023-03-15 12:34:56",
                            "updated_by": "user/test",
                            "updated_status": false
                        }
                    }
                ]
            },
            "ForbiddenResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "ForbiddenResponse",
                "description": "403 Forbidden. Access denied.",
                "examples": [
                    {
                        "detail": {
                            "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                            "response": "User does not have permission to perform this action"
                        },
                        "label": "conversation read"
                    },
                    {
                        "detail": {
                            "cause": "User 6789 does not have permission to delete conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                            "response": "User does not have permission to perform this action"
                        },
                        "label": "conversation delete"
                    },
                    {
                        "detail": {
                            "cause": "User 6789 is not authorized to access this endpoint.",
                            "response": "User does not have permission to access this endpoint"
                        },
                        "label": "endpoint"
                    },
                    {
                        "detail": {
                            "cause": "Storing feedback is disabled.",
                            "response": "Storing feedback is disabled"
                        },
                        "label": "feedback"
                    },
                    {
                        "detail": {
                            "cause": "User lacks model_override permission required to override model/provider.",
                            "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                        },
                        "label": "model override"
                    }
                ]
            },
            "HTTPAuthSecurityScheme": {
                "properties": {
                    "bearerFormat": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Bearerformat"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "scheme": {
                        "type": "string",
                        "title": "Scheme"
                    },
                    "type": {
                        "type": "string",
                        "const": "http",
                        "title": "Type",
                        "default": "http"
                    }
                },
                "type": "object",
                "required": [
                    "scheme"
                ],
                "title": "HTTPAuthSecurityScheme",
                "description": "Defines a security scheme using HTTP authentication."
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "ImplicitOAuthFlow": {
                "properties": {
                    "authorizationUrl": {
                        "type": "string",
                        "title": "Authorizationurl"
                    },
                    "refreshUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Refreshurl"
                    },
                    "scopes": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Scopes"
                    }
                },
                "type": "object",
                "required": [
                    "authorizationUrl",
                    "scopes"
                ],
                "title": "ImplicitOAuthFlow",
                "description": "Defines configuration details for the OAuth 2.0 Implicit flow."
            },
            "In": {
                "type": "string",
                "enum": [
                    "cookie",
                    "header",
                    "query"
                ],
                "title": "In",
                "description": "The location of the API key."
            },
            "InMemoryCacheConfig": {
                "properties": {
                    "max_entries": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Max entries",
                        "description": "Maximum number of entries stored in the in-memory cache"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "max_entries"
                ],
                "title": "InMemoryCacheConfig",
                "description": "In-memory cache configuration."
            },
            "InferenceConfiguration": {
                "properties": {
                    "default_model": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Default model",
                        "description": "Identification of default model used when no other model is specified."
                    },
                    "default_provider": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Default provider",
                        "description": "Identification of default provider used when no other model is specified."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "InferenceConfiguration",
                "description": "Inference configuration."
            },
            "InfoResponse": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Service name",
                        "examples": [
                            "Lightspeed Stack"
                        ]
                    },
                    "service_version": {
                        "type": "string",
                        "title": "Service Version",
                        "description": "Service version",
                        "examples": [
                            "0.1.0",
                            "0.2.0",
                            "1.0.0"
                        ]
                    },
                    "llama_stack_version": {
                        "type": "string",
                        "title": "Llama Stack Version",
                        "description": "Llama Stack version",
                        "examples": [
                            "0.2.1",
                            "0.2.2",
                            "0.2.18",
                            "0.2.21",
                            "0.2.22"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "service_version",
                    "llama_stack_version"
                ],
                "title": "InfoResponse",
                "description": "Model representing a response to an info request.\n\nAttributes:\n    name: Service name.\n    service_version: Service version.\n    llama_stack_version: Llama Stack version.",
                "examples": [
                    {
                        "llama_stack_version": "1.0.0",
                        "name": "Lightspeed Stack",
                        "service_version": "1.0.0"
                    }
                ]
            },
            "InternalServerErrorResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "InternalServerErrorResponse",
                "description": "500 Internal Server Error.",
                "examples": [
                    {
                        "detail": {
                            "cause": "An unexpected error occurred while processing the request.",
                            "response": "Internal server error"
                        },
                        "label": "internal"
                    },
                    {
                        "detail": {
                            "cause": "Lightspeed Stack configuration has not been initialized.",
                            "response": "Configuration is not loaded"
                        },
                        "label": "configuration"
                    },
                    {
                        "detail": {
                            "cause": "Failed to store feedback at directory: /path/example",
                            "response": "Failed to store feedback"
                        },
                        "label": "feedback storage"
                    },
                    {
                        "detail": {
                            "cause": "Failed to call backend API",
                            "response": "Error while processing query"
                        },
                        "label": "query"
                    },
                    {
                        "detail": {
                            "cause": "Conversation cache is not configured or unavailable.",
                            "response": "Conversation cache not configured"
                        },
                        "label": "conversation cache"
                    },
                    {
                        "detail": {
                            "cause": "Failed to query the database",
                            "response": "Database query failed"
                        },
                        "label": "database"
                    }
                ]
            },
            "JsonPathOperator": {
                "type": "string",
                "enum": [
                    "equals",
                    "contains",
                    "in",
                    "match"
                ],
                "title": "JsonPathOperator",
                "description": "Supported operators for JSONPath evaluation.\n\nNote: this is not a real model, just an enumeration of all supported JSONPath operators."
            },
            "JwkConfiguration": {
                "properties": {
                    "url": {
                        "type": "string",
                        "minLength": 1,
                        "format": "uri",
                        "title": "URL",
                        "description": "HTTPS URL of the JWK (JSON Web Key) set used to validate JWTs."
                    },
                    "jwt_configuration": {
                        "$ref": "#/components/schemas/JwtConfiguration",
                        "title": "JWT configuration",
                        "description": "JWT (JSON Web Token) configuration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "url"
                ],
                "title": "JwkConfiguration",
                "description": "JWK (JSON Web Key) configuration.\n\nA JSON Web Key (JWK) is a JavaScript Object Notation (JSON) data structure\nthat represents a cryptographic key.\n\nUseful resources:\n\n  - [JSON Web Key](https://openid.net/specs/draft-jones-json-web-key-03.html)\n  - [RFC 7517](https://www.rfc-editor.org/rfc/rfc7517)"
            },
            "JwtConfiguration": {
                "properties": {
                    "user_id_claim": {
                        "type": "string",
                        "title": "User ID claim",
                        "description": "JWT claim name that uniquely identifies the user (subject ID).",
                        "default": "user_id"
                    },
                    "username_claim": {
                        "type": "string",
                        "title": "Username claim",
                        "description": "JWT claim name that provides the human-readable username.",
                        "default": "username"
                    },
                    "role_rules": {
                        "items": {
                            "$ref": "#/components/schemas/JwtRoleRule"
                        },
                        "type": "array",
                        "title": "Role rules",
                        "description": "Rules for extracting roles from JWT claims"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "JwtConfiguration",
                "description": "JWT (JSON Web Token) configuration.\n\nJSON Web Token (JWT) is a compact, URL-safe means of representing\nclaims to be transferred between two parties.  The claims in a JWT\nare encoded as a JSON object that is used as the payload of a JSON\nWeb Signature (JWS) structure or as the plaintext of a JSON Web\nEncryption (JWE) structure, enabling the claims to be digitally\nsigned or integrity protected with a Message Authentication Code\n(MAC) and/or encrypted.\n\nUseful resources:\n\n  - [JSON Web Token](https://en.wikipedia.org/wiki/JSON_Web_Token)\n  - [RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519)\n  - [JSON Web Tokens](https://auth0.com/docs/secure/tokens/json-web-tokens)"
            },
            "JwtRoleRule": {
                "properties": {
                    "jsonpath": {
                        "type": "string",
                        "title": "JSON path",
                        "description": "JSONPath expression to evaluate against the JWT payload"
                    },
                    "operator": {
                        "$ref": "#/components/schemas/JsonPathOperator",
                        "title": "Operator",
                        "description": "JSON path comparison operator"
                    },
                    "negate": {
                        "type": "boolean",
                        "title": "Negate rule",
                        "description": "If set to true, the meaning of the rule is negated",
                        "default": false
                    },
                    "value": {
                        "title": "Value",
                        "description": "Value to compare against"
                    },
                    "roles": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "List of roles",
                        "description": "Roles to be assigned if the rule matches"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "jsonpath",
                    "operator",
                    "value",
                    "roles"
                ],
                "title": "JwtRoleRule",
                "description": "Rule for extracting roles from JWT claims."
            },
            "LivenessResponse": {
                "properties": {
                    "alive": {
                        "type": "boolean",
                        "title": "Alive",
                        "description": "Flag indicating that the app is alive",
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "alive"
                ],
                "title": "LivenessResponse",
                "description": "Model representing a response to a liveness request.\n\nAttributes:\n    alive: If app is alive.",
                "examples": [
                    {
                        "alive": true
                    }
                ]
            },
            "LlamaStackConfiguration": {
                "properties": {
                    "url": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Llama Stack URL",
                        "description": "URL to Llama Stack service; used when library mode is disabled"
                    },
                    "api_key": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "password",
                                "writeOnly": true
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "API key",
                        "description": "API key to access Llama Stack service"
                    },
                    "use_as_library_client": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Use as library",
                        "description": "When set to true Llama Stack will be used in library mode, not in server mode (default)"
                    },
                    "library_client_config_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Llama Stack configuration path",
                        "description": "Path to configuration file used when Llama Stack is run in library mode"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "LlamaStackConfiguration",
                "description": "Llama stack configuration.\n\nLlama Stack is a comprehensive system that provides a uniform set of tools\nfor building, scaling, and deploying generative AI applications, enabling\ndevelopers to create, integrate, and orchestrate multiple AI services and\ncapabilities into an adaptable setup.\n\nUseful resources:\n\n  - [Llama Stack](https://www.llama.com/products/llama-stack/)\n  - [Python Llama Stack client](https://github.com/llamastack/llama-stack-client-python)\n  - [Build AI Applications with Llama Stack](https://llamastack.github.io/)"
            },
            "ModelContextProtocolServer": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "MCP name",
                        "description": "MCP server name that must be unique"
                    },
                    "provider_id": {
                        "type": "string",
                        "title": "Provider ID",
                        "description": "MCP provider identification",
                        "default": "model-context-protocol"
                    },
                    "url": {
                        "type": "string",
                        "title": "MCP server URL",
                        "description": "URL of the MCP server"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "name",
                    "url"
                ],
                "title": "ModelContextProtocolServer",
                "description": "Model context protocol server configuration.\n\nMCP (Model Context Protocol) servers provide tools and capabilities to the\nAI agents. These are configured by this structure. Only MCP servers\ndefined in the lightspeed-stack.yaml configuration are available to the\nagents. Tools configured in the llama-stack run.yaml are not accessible to\nlightspeed-core agents.\n\nUseful resources:\n\n- [Model Context Protocol](https://modelcontextprotocol.io/docs/getting-started/intro)\n- [MCP FAQs](https://modelcontextprotocol.io/faqs)\n- [Wikipedia article](https://en.wikipedia.org/wiki/Model_Context_Protocol)"
            },
            "ModelsResponse": {
                "properties": {
                    "models": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Models",
                        "description": "List of models available"
                    }
                },
                "type": "object",
                "required": [
                    "models"
                ],
                "title": "ModelsResponse",
                "description": "Model representing a response to models request.",
                "examples": [
                    {
                        "models": [
                            {
                                "api_model_type": "llm",
                                "identifier": "openai/gpt-4-turbo",
                                "metadata": {},
                                "model_type": "llm",
                                "provider_id": "openai",
                                "provider_resource_id": "gpt-4-turbo",
                                "type": "model"
                            }
                        ]
                    }
                ]
            },
            "MutualTLSSecurityScheme": {
                "properties": {
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "type": {
                        "type": "string",
                        "const": "mutualTLS",
                        "title": "Type",
                        "default": "mutualTLS"
                    }
                },
                "type": "object",
                "title": "MutualTLSSecurityScheme",
                "description": "Defines a security scheme using mTLS authentication."
            },
            "NotFoundResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "NotFoundResponse",
                "description": "404 Not Found - Resource does not exist.",
                "examples": [
                    {
                        "detail": {
                            "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                            "response": "Conversation not found"
                        },
                        "label": "conversation"
                    },
                    {
                        "detail": {
                            "cause": "Provider with ID openai does not exist",
                            "response": "Provider not found"
                        },
                        "label": "provider"
                    },
                    {
                        "detail": {
                            "cause": "Model with ID gpt-4-turbo is not configured",
                            "response": "Model not found"
                        },
                        "label": "model"
                    },
                    {
                        "detail": {
                            "cause": "Rag with ID vs_7b52a8cf-0fa3-489c-beab-27e061d102f3 does not exist",
                            "response": "Rag not found"
                        },
                        "label": "rag"
                    }
                ]
            },
            "OAuth2SecurityScheme": {
                "properties": {
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "flows": {
                        "$ref": "#/components/schemas/OAuthFlows"
                    },
                    "oauth2MetadataUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Oauth2Metadataurl"
                    },
                    "type": {
                        "type": "string",
                        "const": "oauth2",
                        "title": "Type",
                        "default": "oauth2"
                    }
                },
                "type": "object",
                "required": [
                    "flows"
                ],
                "title": "OAuth2SecurityScheme",
                "description": "Defines a security scheme using OAuth 2.0."
            },
            "OAuthFlows": {
                "properties": {
                    "authorizationCode": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/AuthorizationCodeOAuthFlow"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "clientCredentials": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ClientCredentialsOAuthFlow"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "implicit": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ImplicitOAuthFlow"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "password": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PasswordOAuthFlow"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "type": "object",
                "title": "OAuthFlows",
                "description": "Defines the configuration for the supported OAuth 2.0 flows."
            },
            "OpenIdConnectSecurityScheme": {
                "properties": {
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "openIdConnectUrl": {
                        "type": "string",
                        "title": "Openidconnecturl"
                    },
                    "type": {
                        "type": "string",
                        "const": "openIdConnect",
                        "title": "Type",
                        "default": "openIdConnect"
                    }
                },
                "type": "object",
                "required": [
                    "openIdConnectUrl"
                ],
                "title": "OpenIdConnectSecurityScheme",
                "description": "Defines a security scheme using OpenID Connect."
            },
            "PasswordOAuthFlow": {
                "properties": {
                    "refreshUrl": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Refreshurl"
                    },
                    "scopes": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Scopes"
                    },
                    "tokenUrl": {
                        "type": "string",
                        "title": "Tokenurl"
                    }
                },
                "type": "object",
                "required": [
                    "scopes",
                    "tokenUrl"
                ],
                "title": "PasswordOAuthFlow",
                "description": "Defines configuration details for the OAuth 2.0 Resource Owner Password flow."
            },
            "PostgreSQLDatabaseConfiguration": {
                "properties": {
                    "host": {
                        "type": "string",
                        "title": "Hostname",
                        "description": "Database server host or socket directory",
                        "default": "localhost"
                    },
                    "port": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Port",
                        "description": "Database server port",
                        "default": 5432
                    },
                    "db": {
                        "type": "string",
                        "title": "Database name",
                        "description": "Database name to connect to"
                    },
                    "user": {
                        "type": "string",
                        "title": "User name",
                        "description": "Database user name used to authenticate"
                    },
                    "password": {
                        "type": "string",
                        "format": "password",
                        "title": "Password",
                        "description": "Password used to authenticate",
                        "writeOnly": true
                    },
                    "namespace": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name space",
                        "description": "Database namespace",
                        "default": "public"
                    },
                    "ssl_mode": {
                        "type": "string",
                        "title": "SSL mode",
                        "description": "SSL mode",
                        "default": "prefer"
                    },
                    "gss_encmode": {
                        "type": "string",
                        "title": "GSS encmode",
                        "description": "This option determines whether or with what priority a secure GSS TCP/IP connection will be negotiated with the server.",
                        "default": "prefer"
                    },
                    "ca_cert_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "CA certificate path",
                        "description": "Path to CA certificate"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "db",
                    "user",
                    "password"
                ],
                "title": "PostgreSQLDatabaseConfiguration",
                "description": "PostgreSQL database configuration.\n\nPostgreSQL database is used by Lightspeed Core Stack service for storing\ninformation about conversation IDs. It can also be leveraged to store\nconversation history and information about quota usage.\n\nUseful resources:\n\n- [Psycopg: connection classes](https://www.psycopg.org/psycopg3/docs/api/connections.html)\n- [PostgreSQL connection strings](https://www.connectionstrings.com/postgresql/)\n- [How to Use PostgreSQL in Python](https://www.freecodecamp.org/news/postgresql-in-python/)"
            },
            "ProviderHealthStatus": {
                "properties": {
                    "provider_id": {
                        "type": "string",
                        "title": "Provider Id",
                        "description": "The ID of the provider"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "The health status",
                        "examples": [
                            "ok",
                            "unhealthy",
                            "not_implemented"
                        ]
                    },
                    "message": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Message",
                        "description": "Optional message about the health status",
                        "examples": [
                            "All systems operational",
                            "Llama Stack is unavailable"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "provider_id",
                    "status"
                ],
                "title": "ProviderHealthStatus",
                "description": "Model representing the health status of a provider.\n\nAttributes:\n    provider_id: The ID of the provider.\n    status: The health status ('ok', 'unhealthy', 'not_implemented').\n    message: Optional message about the health status."
            },
            "ProviderResponse": {
                "properties": {
                    "api": {
                        "type": "string",
                        "title": "Api",
                        "description": "The API this provider implements"
                    },
                    "config": {
                        "additionalProperties": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "number"
                                },
                                {
                                    "type": "string"
                                },
                                {
                                    "items": {},
                                    "type": "array"
                                },
                                {},
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "type": "object",
                        "title": "Config",
                        "description": "Provider configuration parameters"
                    },
                    "health": {
                        "additionalProperties": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "number"
                                },
                                {
                                    "type": "string"
                                },
                                {
                                    "items": {},
                                    "type": "array"
                                },
                                {},
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "type": "object",
                        "title": "Health",
                        "description": "Current health status of the provider"
                    },
                    "provider_id": {
                        "type": "string",
                        "title": "Provider Id",
                        "description": "Unique provider identifier"
                    },
                    "provider_type": {
                        "type": "string",
                        "title": "Provider Type",
                        "description": "Provider implementation type"
                    }
                },
                "type": "object",
                "required": [
                    "api",
                    "config",
                    "health",
                    "provider_id",
                    "provider_type"
                ],
                "title": "ProviderResponse",
                "description": "Model representing a response to get specific provider request.",
                "examples": [
                    {
                        "api": "inference",
                        "config": {
                            "api_key": "********"
                        },
                        "health": {
                            "message": "Healthy",
                            "status": "OK"
                        },
                        "provider_id": "openai",
                        "provider_type": "remote::openai"
                    }
                ]
            },
            "ProvidersListResponse": {
                "properties": {
                    "providers": {
                        "additionalProperties": {
                            "items": {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "type": "object",
                        "title": "Providers",
                        "description": "List of available API types and their corresponding providers"
                    }
                },
                "type": "object",
                "required": [
                    "providers"
                ],
                "title": "ProvidersListResponse",
                "description": "Model representing a response to providers request.",
                "examples": [
                    {
                        "providers": {
                            "agents": [
                                {
                                    "provider_id": "meta-reference",
                                    "provider_type": "inline::meta-reference"
                                }
                            ],
                            "inference": [
                                {
                                    "provider_id": "sentence-transformers",
                                    "provider_type": "inline::sentence-transformers"
                                },
                                {
                                    "provider_id": "openai",
                                    "provider_type": "remote::openai"
                                }
                            ]
                        }
                    }
                ]
            },
            "QueryRequest": {
                "properties": {
                    "query": {
                        "type": "string",
                        "title": "Query",
                        "description": "The query string",
                        "examples": [
                            "What is Kubernetes?"
                        ]
                    },
                    "conversation_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation Id",
                        "description": "The optional conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "provider": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Provider",
                        "description": "The optional provider",
                        "examples": [
                            "openai",
                            "watsonx"
                        ]
                    },
                    "model": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Model",
                        "description": "The optional model",
                        "examples": [
                            "gpt4mini"
                        ]
                    },
                    "system_prompt": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "System Prompt",
                        "description": "The optional system prompt.",
                        "examples": [
                            "You are OpenShift assistant.",
                            "You are Ansible assistant."
                        ]
                    },
                    "attachments": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/Attachment"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Attachments",
                        "description": "The optional list of attachments.",
                        "examples": [
                            {
                                "attachment_type": "log",
                                "content": "this is attachment",
                                "content_type": "text/plain"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "kind: Pod\n metadata:\n name:    private-reg",
                                "content_type": "application/yaml"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "foo: bar",
                                "content_type": "application/yaml"
                            }
                        ]
                    },
                    "no_tools": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "No Tools",
                        "description": "Whether to bypass all tools and MCP servers",
                        "default": false,
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "generate_topic_summary": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Generate Topic Summary",
                        "description": "Whether to generate topic summary for new conversations",
                        "default": true,
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "media_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Media Type",
                        "description": "Media type for the response format",
                        "examples": [
                            "application/json",
                            "text/plain"
                        ]
                    },
                    "vector_store_ids": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Vector Store Ids",
                        "description": "Optional list of specific vector store IDs to query for RAG. If not provided, all available vector stores will be queried.",
                        "examples": [
                            "ocp_docs",
                            "knowledge_base",
                            "vector_db_1"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "query"
                ],
                "title": "QueryRequest",
                "description": "Model representing a request for the LLM (Language Model).\n\nAttributes:\n    query: The query string.\n    conversation_id: The optional conversation ID (UUID).\n    provider: The optional provider.\n    model: The optional model.\n    system_prompt: The optional system prompt.\n    attachments: The optional attachments.\n    no_tools: Whether to bypass all tools and MCP servers (default: False).\n    generate_topic_summary: Whether to generate topic summary for new conversations.\n    media_type: The optional media type for response format (application/json or text/plain).\n    vector_store_ids: The optional list of specific vector store IDs to query for RAG.\n\nExample:\n    ```python\n    query_request = QueryRequest(query=\"Tell me about Kubernetes\")\n    ```",
                "examples": [
                    {
                        "attachments": [
                            {
                                "attachment_type": "log",
                                "content": "this is attachment",
                                "content_type": "text/plain"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "kind: Pod\n metadata:\n    name: private-reg",
                                "content_type": "application/yaml"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "foo: bar",
                                "content_type": "application/yaml"
                            }
                        ],
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                        "generate_topic_summary": true,
                        "model": "model-name",
                        "no_tools": false,
                        "provider": "openai",
                        "query": "write a deployment yaml for the mongodb image",
                        "system_prompt": "You are a helpful assistant",
                        "vector_store_ids": [
                            "ocp_docs",
                            "knowledge_base"
                        ]
                    }
                ]
            },
            "QueryResponse": {
                "properties": {
                    "conversation_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation Id",
                        "description": "The optional conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "Response from LLM",
                        "examples": [
                            "Kubernetes is an open-source container orchestration system for automating ..."
                        ]
                    },
                    "referenced_documents": {
                        "items": {
                            "$ref": "#/components/schemas/ReferencedDocument"
                        },
                        "type": "array",
                        "title": "Referenced Documents",
                        "description": "List of documents referenced in generating the response",
                        "examples": [
                            [
                                {
                                    "doc_title": "Operator Lifecycle Manager (OLM)",
                                    "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/olm/index.html"
                                }
                            ]
                        ]
                    },
                    "truncated": {
                        "type": "boolean",
                        "title": "Truncated",
                        "description": "Whether conversation history was truncated",
                        "default": false,
                        "examples": [
                            false,
                            true
                        ]
                    },
                    "input_tokens": {
                        "type": "integer",
                        "title": "Input Tokens",
                        "description": "Number of tokens sent to LLM",
                        "default": 0,
                        "examples": [
                            150,
                            250,
                            500
                        ]
                    },
                    "output_tokens": {
                        "type": "integer",
                        "title": "Output Tokens",
                        "description": "Number of tokens received from LLM",
                        "default": 0,
                        "examples": [
                            50,
                            100,
                            200
                        ]
                    },
                    "available_quotas": {
                        "additionalProperties": {
                            "type": "integer"
                        },
                        "type": "object",
                        "title": "Available Quotas",
                        "description": "Quota available as measured by all configured quota limiters",
                        "examples": [
                            {
                                "daily": 1000,
                                "monthly": 50000
                            }
                        ]
                    },
                    "tool_calls": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/ToolCallSummary"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tool Calls",
                        "description": "List of tool calls made during response generation"
                    },
                    "tool_results": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/ToolResultSummary"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tool Results",
                        "description": "List of tool results"
                    }
                },
                "type": "object",
                "required": [
                    "response"
                ],
                "title": "QueryResponse",
                "description": "Model representing LLM response to a query.\n\nAttributes:\n    conversation_id: The optional conversation ID (UUID).\n    response: The response.\n    rag_chunks: List of RAG chunks used to generate the response.\n    referenced_documents: The URLs and titles for the documents used to generate the response.\n    tool_calls: List of tool calls made during response generation.\n    truncated: Whether conversation history was truncated.\n    input_tokens: Number of tokens sent to LLM.\n    output_tokens: Number of tokens received from LLM.\n    available_quotas: Quota available as measured by all configured quota limiters.",
                "examples": [
                    {
                        "available_quotas": {
                            "ClusterQuotaLimiter": 998911,
                            "UserQuotaLimiter": 998911
                        },
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                        "input_tokens": 123,
                        "output_tokens": 456,
                        "referenced_documents": [
                            {
                                "doc_title": "Operator Lifecycle Manager concepts and resources",
                                "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/understanding/olm/olm-understanding-olm.html"
                            }
                        ],
                        "response": "Operator Lifecycle Manager (OLM) helps users install...",
                        "tool_calls": [
                            {
                                "args": {},
                                "id": "1",
                                "name": "tool1",
                                "type": "tool_call"
                            }
                        ],
                        "tool_results": [
                            {
                                "content": "bla",
                                "id": "1",
                                "round": 1,
                                "status": "success",
                                "type": "tool_result"
                            }
                        ],
                        "truncated": false
                    }
                ]
            },
            "QuotaExceededResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "QuotaExceededResponse",
                "description": "429 Too Many Requests - Quota limit exceeded.",
                "examples": [
                    {
                        "detail": {
                            "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                            "response": "The model quota has been exceeded"
                        },
                        "label": "model"
                    },
                    {
                        "detail": {
                            "cause": "User 123 has no available tokens.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "user none"
                    },
                    {
                        "detail": {
                            "cause": "Cluster has no available tokens.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "cluster none"
                    },
                    {
                        "detail": {
                            "cause": "Unknown subject 999 has no available tokens.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "subject none"
                    },
                    {
                        "detail": {
                            "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "user insufficient"
                    },
                    {
                        "detail": {
                            "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "cluster insufficient"
                    },
                    {
                        "detail": {
                            "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "subject insufficient"
                    }
                ]
            },
            "QuotaHandlersConfiguration": {
                "properties": {
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "SQLite configuration",
                        "description": "SQLite database configuration"
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "PostgreSQL configuration",
                        "description": "PostgreSQL database configuration"
                    },
                    "limiters": {
                        "items": {
                            "$ref": "#/components/schemas/QuotaLimiterConfiguration"
                        },
                        "type": "array",
                        "title": "Quota limiters",
                        "description": "Quota limiters configuration"
                    },
                    "scheduler": {
                        "$ref": "#/components/schemas/QuotaSchedulerConfiguration",
                        "title": "Quota scheduler",
                        "description": "Quota scheduler configuration"
                    },
                    "enable_token_history": {
                        "type": "boolean",
                        "title": "Enable token history",
                        "description": "Enables storing information about token usage history",
                        "default": false
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "QuotaHandlersConfiguration",
                "description": "Quota limiter configuration.\n\nIt is possible to limit quota usage per user or per service or services\n(that typically run in one cluster). Each limit is configured as a separate\n_quota limiter_. It can be of type `user_limiter` or `cluster_limiter`\n(which is name that makes sense in OpenShift deployment)."
            },
            "QuotaLimiterConfiguration": {
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "user_limiter",
                            "cluster_limiter"
                        ],
                        "title": "Quota limiter type",
                        "description": "Quota limiter type, either user_limiter or cluster_limiter"
                    },
                    "name": {
                        "type": "string",
                        "title": "Quota limiter name",
                        "description": "Human readable quota limiter name"
                    },
                    "initial_quota": {
                        "type": "integer",
                        "minimum": 0.0,
                        "title": "Initial quota",
                        "description": "Quota set at beginning of the period"
                    },
                    "quota_increase": {
                        "type": "integer",
                        "minimum": 0.0,
                        "title": "Quota increase",
                        "description": "Delta value used to increase quota when period is reached"
                    },
                    "period": {
                        "type": "string",
                        "title": "Period",
                        "description": "Period specified in human readable form"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "type",
                    "name",
                    "initial_quota",
                    "quota_increase",
                    "period"
                ],
                "title": "QuotaLimiterConfiguration",
                "description": "Configuration for one quota limiter.\n\nThere are three configuration options for each limiter:\n\n1. ``period`` is specified in a human-readable form, see\n   https://www.postgresql.org/docs/current/datatype-datetime.html#DATATYPE-INTERVAL-INPUT\n   for all possible options. When the end of the period is reached, the\n   quota is reset or increased.\n2. ``initial_quota`` is the value set at the beginning of the period.\n3. ``quota_increase`` is the value (if specified) used to increase the\n   quota when the period is reached.\n\nThere are two basic use cases:\n\n1. When the quota needs to be reset to a specific value periodically (for\n   example on a weekly or monthly basis), set ``initial_quota`` to the\n   required value.\n2. When the quota needs to be increased by a specific value periodically\n   (for example on a daily basis), set ``quota_increase``."
            },
            "QuotaSchedulerConfiguration": {
                "properties": {
                    "period": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Period",
                        "description": "Quota scheduler period specified in seconds",
                        "default": 1
                    },
                    "database_reconnection_count": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Database reconnection count on startup",
                        "description": "Database reconnection count on startup. When database for quota is not available on startup, the service tries to reconnect N times with specified delay.",
                        "default": 10
                    },
                    "database_reconnection_delay": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Database reconnection delay",
                        "description": "Database reconnection delay specified in seconds. When database for quota is not available on startup, the service tries to reconnect N times with specified delay.",
                        "default": 1
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "QuotaSchedulerConfiguration",
                "description": "Quota scheduler configuration."
            },
            "RAGInfoResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Vector DB unique ID",
                        "examples": [
                            "vs_00000000_0000_0000"
                        ]
                    },
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Human readable vector DB name",
                        "examples": [
                            "Faiss Store with Knowledge base"
                        ]
                    },
                    "created_at": {
                        "type": "integer",
                        "title": "Created At",
                        "description": "When the vector store was created, represented as Unix time",
                        "examples": [
                            1763391371
                        ]
                    },
                    "last_active_at": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Active At",
                        "description": "When the vector store was last active, represented as Unix time",
                        "examples": [
                            1763391371
                        ]
                    },
                    "usage_bytes": {
                        "type": "integer",
                        "title": "Usage Bytes",
                        "description": "Storage byte(s) used by this vector DB",
                        "examples": [
                            0
                        ]
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "When the vector store expires, represented as Unix time",
                        "examples": [
                            1763391371
                        ]
                    },
                    "object": {
                        "type": "string",
                        "title": "Object",
                        "description": "Object type",
                        "examples": [
                            "vector_store"
                        ]
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Vector DB status",
                        "examples": [
                            "completed"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "created_at",
                    "usage_bytes",
                    "object",
                    "status"
                ],
                "title": "RAGInfoResponse",
                "description": "Model representing a response with information about RAG DB.",
                "examples": [
                    {
                        "created_at": 1763391371,
                        "id": "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                        "last_active_at": 1763391371,
                        "name": "Faiss Store with Knowledge base",
                        "object": "vector_store",
                        "status": "completed",
                        "usage_bytes": 1024000
                    }
                ]
            },
            "RAGListResponse": {
                "properties": {
                    "rags": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "RAG list response",
                        "description": "List of RAG identifiers",
                        "examples": [
                            "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                            "vs_7b52a8cf-0fa3-489c-cafe-27e061d102f3"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "rags"
                ],
                "title": "RAGListResponse",
                "description": "Model representing a response to list RAGs request.",
                "examples": [
                    {
                        "rags": [
                            "vs_00000000-cafe-babe-0000-000000000000",
                            "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                            "vs_7b52a8cf-0fa3-489c-cafe-27e061d102f3"
                        ]
                    }
                ]
            },
            "RHIdentityConfiguration": {
                "properties": {
                    "required_entitlements": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Required entitlements",
                        "description": "List of all required entitlements."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RHIdentityConfiguration",
                "description": "Red Hat Identity authentication configuration."
            },
            "ReadinessResponse": {
                "properties": {
                    "ready": {
                        "type": "boolean",
                        "title": "Ready",
                        "description": "Flag indicating if service is ready",
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "reason": {
                        "type": "string",
                        "title": "Reason",
                        "description": "The reason for the readiness",
                        "examples": [
                            "Service is ready"
                        ]
                    },
                    "providers": {
                        "items": {
                            "$ref": "#/components/schemas/ProviderHealthStatus"
                        },
                        "type": "array",
                        "title": "Providers",
                        "description": "List of unhealthy providers in case of readiness failure.",
                        "examples": []
                    }
                },
                "type": "object",
                "required": [
                    "ready",
                    "reason",
                    "providers"
                ],
                "title": "ReadinessResponse",
                "description": "Model representing response to a readiness request.\n\nAttributes:\n    ready: If service is ready.\n    reason: The reason for the readiness.\n    providers: List of unhealthy providers in case of readiness failure.",
                "examples": [
                    {
                        "providers": [],
                        "ready": true,
                        "reason": "Service is ready"
                    }
                ]
            },
            "ReferencedDocument": {
                "properties": {
                    "doc_url": {
                        "anyOf": [
                            {
                                "type": "string",
                                "minLength": 1,
                                "format": "uri"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Doc Url",
                        "description": "URL of the referenced document"
                    },
                    "doc_title": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Doc Title",
                        "description": "Title of the referenced document"
                    }
                },
                "type": "object",
                "title": "ReferencedDocument",
                "description": "Model representing a document referenced in generating a response.\n\nAttributes:\n    doc_url: Url to the referenced doc.\n    doc_title: Title of the referenced doc."
            },
            "RlsapiV1Attachment": {
                "properties": {
                    "contents": {
                        "type": "string",
                        "title": "Contents",
                        "description": "File contents read on client",
                        "default": "",
                        "examples": [
                            "# Configuration file\nkey=value"
                        ]
                    },
                    "mimetype": {
                        "type": "string",
                        "title": "Mimetype",
                        "description": "MIME type of the file",
                        "default": "",
                        "examples": [
                            "text/plain",
                            "application/json"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RlsapiV1Attachment",
                "description": "Attachment data from rlsapi v1 context.\n\nAttributes:\n    contents: The textual contents of the file read on the client machine.\n    mimetype: The MIME type of the file."
            },
            "RlsapiV1CLA": {
                "properties": {
                    "nevra": {
                        "type": "string",
                        "title": "Nevra",
                        "description": "CLA NEVRA identifier",
                        "default": "",
                        "examples": [
                            "command-line-assistant-0:0.2.0-1.el9.noarch"
                        ]
                    },
                    "version": {
                        "type": "string",
                        "title": "Version",
                        "description": "Command line assistant version",
                        "default": "",
                        "examples": [
                            "0.2.0"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RlsapiV1CLA",
                "description": "Command Line Assistant information from rlsapi v1 context.\n\nAttributes:\n    nevra: The NEVRA (Name-Epoch-Version-Release-Architecture) of the CLA.\n    version: The version of the command line assistant."
            },
            "RlsapiV1Context": {
                "properties": {
                    "stdin": {
                        "type": "string",
                        "title": "Stdin",
                        "description": "Redirect input from stdin",
                        "default": "",
                        "examples": [
                            "piped input from previous command"
                        ]
                    },
                    "attachments": {
                        "$ref": "#/components/schemas/RlsapiV1Attachment",
                        "description": "File attachment data"
                    },
                    "terminal": {
                        "$ref": "#/components/schemas/RlsapiV1Terminal",
                        "description": "Terminal output context"
                    },
                    "systeminfo": {
                        "$ref": "#/components/schemas/RlsapiV1SystemInfo",
                        "description": "Client system information"
                    },
                    "cla": {
                        "$ref": "#/components/schemas/RlsapiV1CLA",
                        "description": "Command line assistant metadata"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RlsapiV1Context",
                "description": "Context data for rlsapi v1 /infer request.\n\nAttributes:\n    stdin: Redirect input read by command-line-assistant.\n    attachments: Attachment object received by the client.\n    terminal: Terminal object received by the client.\n    systeminfo: System information object received by the client.\n    cla: Command Line Assistant information."
            },
            "RlsapiV1InferData": {
                "properties": {
                    "text": {
                        "type": "string",
                        "title": "Text",
                        "description": "Generated response text",
                        "examples": [
                            "To list files in Linux, use the `ls` command."
                        ]
                    },
                    "request_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Request Id",
                        "description": "Unique request identifier",
                        "examples": [
                            "01JDKR8N7QW9ZMXVGK3PB5TQWZ"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "text"
                ],
                "title": "RlsapiV1InferData",
                "description": "Response data for rlsapi v1 /infer endpoint.\n\nAttributes:\n    text: The generated response text.\n    request_id: Unique identifier for the request."
            },
            "RlsapiV1InferRequest": {
                "properties": {
                    "question": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Question",
                        "description": "User question",
                        "examples": [
                            "How do I list files?",
                            "How do I configure SELinux?"
                        ]
                    },
                    "context": {
                        "$ref": "#/components/schemas/RlsapiV1Context",
                        "description": "Optional context (system info, terminal output, stdin, attachments)"
                    },
                    "skip_rag": {
                        "type": "boolean",
                        "title": "Skip Rag",
                        "description": "Whether to skip RAG retrieval",
                        "default": false,
                        "examples": [
                            false,
                            true
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "question"
                ],
                "title": "RlsapiV1InferRequest",
                "description": "RHEL Lightspeed rlsapi v1 /infer request.\n\nAttributes:\n    question: User question string.\n    context: Context with system info, terminal output, etc. (defaults provided).\n    skip_rag: Whether to skip RAG retrieval (default False).\n\nExample:\n    ```python\n    request = RlsapiV1InferRequest(\n        question=\"How do I list files?\",\n        context=RlsapiV1Context(\n            systeminfo=RlsapiV1SystemInfo(os=\"RHEL\", version=\"9.3\"),\n            terminal=RlsapiV1Terminal(output=\"bash: command not found\"),\n        ),\n    )\n    ```"
            },
            "RlsapiV1InferResponse": {
                "properties": {
                    "data": {
                        "$ref": "#/components/schemas/RlsapiV1InferData",
                        "description": "Response data containing text and request_id"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "RlsapiV1InferResponse",
                "description": "RHEL Lightspeed rlsapi v1 /infer response.\n\nAttributes:\n    data: Response data containing text and request_id.",
                "examples": [
                    {
                        "data": {
                            "request_id": "01JDKR8N7QW9ZMXVGK3PB5TQWZ",
                            "text": "To list files in Linux, use the `ls` command."
                        }
                    }
                ]
            },
            "RlsapiV1SystemInfo": {
                "properties": {
                    "os": {
                        "type": "string",
                        "title": "Os",
                        "description": "Operating system name",
                        "default": "",
                        "examples": [
                            "RHEL"
                        ]
                    },
                    "version": {
                        "type": "string",
                        "title": "Version",
                        "description": "Operating system version",
                        "default": "",
                        "examples": [
                            "9.3",
                            "8.10"
                        ]
                    },
                    "arch": {
                        "type": "string",
                        "title": "Arch",
                        "description": "System architecture",
                        "default": "",
                        "examples": [
                            "x86_64",
                            "aarch64"
                        ]
                    },
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Client machine ID",
                        "default": "",
                        "examples": [
                            "01JDKR8N7QW9ZMXVGK3PB5TQWZ"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RlsapiV1SystemInfo",
                "description": "System information from rlsapi v1 context.\n\nAttributes:\n    os: The operating system of the client machine.\n    version: The version of the operating system.\n    arch: The architecture of the client machine.\n    system_id: The id of the client machine."
            },
            "RlsapiV1Terminal": {
                "properties": {
                    "output": {
                        "type": "string",
                        "title": "Output",
                        "description": "Terminal output from client",
                        "default": "",
                        "examples": [
                            "bash: command not found",
                            "Permission denied"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RlsapiV1Terminal",
                "description": "Terminal output from rlsapi v1 context.\n\nAttributes:\n    output: The textual contents of the terminal read on the client machine."
            },
            "SQLiteDatabaseConfiguration": {
                "properties": {
                    "db_path": {
                        "type": "string",
                        "title": "DB path",
                        "description": "Path to file where SQLite database is stored"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "db_path"
                ],
                "title": "SQLiteDatabaseConfiguration",
                "description": "SQLite database configuration."
            },
            "SecurityScheme": {
                "anyOf": [
                    {
                        "$ref": "#/components/schemas/APIKeySecurityScheme"
                    },
                    {
                        "$ref": "#/components/schemas/HTTPAuthSecurityScheme"
                    },
                    {
                        "$ref": "#/components/schemas/OAuth2SecurityScheme"
                    },
                    {
                        "$ref": "#/components/schemas/OpenIdConnectSecurityScheme"
                    },
                    {
                        "$ref": "#/components/schemas/MutualTLSSecurityScheme"
                    }
                ],
                "title": "SecurityScheme"
            },
            "ServiceConfiguration": {
                "properties": {
                    "host": {
                        "type": "string",
                        "title": "Host",
                        "description": "Service hostname",
                        "default": "localhost"
                    },
                    "port": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Port",
                        "description": "Service port",
                        "default": 8080
                    },
                    "base_url": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Base URL",
                        "description": "Externally reachable base URL for the service; needed for A2A support."
                    },
                    "auth_enabled": {
                        "type": "boolean",
                        "title": "Authentication enabled",
                        "description": "Enables the authentication subsystem",
                        "default": false
                    },
                    "workers": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Number of workers",
                        "description": "Number of Uvicorn worker processes to start",
                        "default": 1
                    },
                    "color_log": {
                        "type": "boolean",
                        "title": "Color log",
                        "description": "Enables colorized logging",
                        "default": true
                    },
                    "access_log": {
                        "type": "boolean",
                        "title": "Access log",
                        "description": "Enables logging of all access information",
                        "default": true
                    },
                    "tls_config": {
                        "$ref": "#/components/schemas/TLSConfiguration",
                        "title": "TLS configuration",
                        "description": "Transport Layer Security configuration for HTTPS support"
                    },
                    "cors": {
                        "$ref": "#/components/schemas/CORSConfiguration",
                        "title": "CORS configuration",
                        "description": "Cross-Origin Resource Sharing configuration for cross-domain requests"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "ServiceConfiguration",
                "description": "Service configuration.\n\nLightspeed Core Stack is a REST API service that accepts requests on a\nspecified hostname and port. It is also possible to enable authentication\nand specify the number of Uvicorn workers. When more workers are specified,\nthe service can handle requests concurrently."
            },
            "ServiceUnavailableResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "ServiceUnavailableResponse",
                "description": "503 Backend Unavailable.",
                "examples": [
                    {
                        "detail": {
                            "cause": "Connection error while trying to reach backend service.",
                            "response": "Unable to connect to Llama Stack"
                        },
                        "label": "llama stack"
                    }
                ]
            },
            "ShieldsResponse": {
                "properties": {
                    "shields": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Shields",
                        "description": "List of shields available"
                    }
                },
                "type": "object",
                "required": [
                    "shields"
                ],
                "title": "ShieldsResponse",
                "description": "Model representing a response to shields request.",
                "examples": [
                    {
                        "shields": [
                            {
                                "identifier": "lightspeed_question_validity-shield",
                                "params": {},
                                "provider_id": "lightspeed_question_validity",
                                "provider_resource_id": "lightspeed_question_validity-shield",
                                "type": "shield"
                            }
                        ]
                    }
                ]
            },
            "StatusResponse": {
                "properties": {
                    "functionality": {
                        "type": "string",
                        "title": "Functionality",
                        "description": "The functionality of the service",
                        "examples": [
                            "feedback"
                        ]
                    },
                    "status": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Status",
                        "description": "The status of the service",
                        "examples": [
                            {
                                "enabled": true
                            }
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "functionality",
                    "status"
                ],
                "title": "StatusResponse",
                "description": "Model representing a response to a status request.\n\nAttributes:\n    functionality: The functionality of the service.\n    status: The status of the service.",
                "examples": [
                    {
                        "functionality": "feedback",
                        "status": {
                            "enabled": true
                        }
                    }
                ]
            },
            "TLSConfiguration": {
                "properties": {
                    "tls_certificate_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "TLS certificate path",
                        "description": "SSL/TLS certificate file path for HTTPS support."
                    },
                    "tls_key_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "TLS key path",
                        "description": "SSL/TLS private key file path for HTTPS support."
                    },
                    "tls_key_password": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "SSL/TLS key password path",
                        "description": "Path to file containing the password to decrypt the SSL/TLS private key."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "TLSConfiguration",
                "description": "TLS configuration.\n\nTransport Layer Security (TLS) is a cryptographic protocol designed to\nprovide communications security over a computer network, such as the\nInternet. The protocol is widely used in applications such as email,\ninstant messaging, and voice over IP, but its use in securing HTTPS remains\nthe most publicly visible.\n\nUseful resources:\n\n  - [FastAPI HTTPS Deployment](https://fastapi.tiangolo.com/deployment/https/)\n  - [Transport Layer Security Overview](https://en.wikipedia.org/wiki/Transport_Layer_Security)\n  - [What is TLS](https://www.ssltrust.eu/learning/ssl/transport-layer-security-tls)"
            },
            "ToolCallSummary": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "ID of the tool call"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Name of the tool called"
                    },
                    "args": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Args",
                        "description": "Arguments passed to the tool"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "Type indicator for tool call",
                        "default": "tool_call"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "name"
                ],
                "title": "ToolCallSummary",
                "description": "Model representing a tool call made during response generation (for tool_calls list)."
            },
            "ToolResultSummary": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "ID of the tool call/result, matches the corresponding tool call 'id'"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Status of the tool execution (e.g., 'success')"
                    },
                    "content": {
                        "title": "Content",
                        "description": "Content/result returned from the tool"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "Type indicator for tool result",
                        "default": "tool_result"
                    },
                    "round": {
                        "type": "integer",
                        "title": "Round",
                        "description": "Round number or step of tool execution"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "status",
                    "content",
                    "round"
                ],
                "title": "ToolResultSummary",
                "description": "Model representing a result from a tool call (for tool_results list)."
            },
            "ToolsResponse": {
                "properties": {
                    "tools": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Tools",
                        "description": "List of tools available from all configured MCP servers and built-in toolgroups"
                    }
                },
                "type": "object",
                "required": [
                    "tools"
                ],
                "title": "ToolsResponse",
                "description": "Model representing a response to tools request.",
                "examples": [
                    {
                        "tools": [
                            {
                                "description": "Read contents of a file from the filesystem",
                                "identifier": "filesystem_read",
                                "parameters": [
                                    {
                                        "description": "Path to the file to read",
                                        "name": "path",
                                        "parameter_type": "string",
                                        "required": true
                                    }
                                ],
                                "provider_id": "model-context-protocol",
                                "server_source": "http://localhost:3000",
                                "toolgroup_id": "filesystem-tools",
                                "type": "tool"
                            }
                        ]
                    }
                ]
            },
            "UnauthorizedResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "UnauthorizedResponse",
                "description": "401 Unauthorized - Missing or invalid credentials.",
                "examples": [
                    {
                        "detail": {
                            "cause": "No Authorization header found",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "missing header"
                    },
                    {
                        "detail": {
                            "cause": "No token found in Authorization header",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "missing token"
                    },
                    {
                        "detail": {
                            "cause": "Token has expired",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "expired token"
                    },
                    {
                        "detail": {
                            "cause": "Invalid token signature",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid signature"
                    },
                    {
                        "detail": {
                            "cause": "Token signed by unknown key",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid key"
                    },
                    {
                        "detail": {
                            "cause": "Token missing claim: user_id",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "missing claim"
                    },
                    {
                        "detail": {
                            "cause": "Invalid or expired Kubernetes token",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid k8s token"
                    },
                    {
                        "detail": {
                            "cause": "Authentication key server returned invalid data",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid jwk token"
                    }
                ]
            },
            "UnprocessableEntityResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "UnprocessableEntityResponse",
                "description": "422 Unprocessable Entity - Request validation failed.",
                "examples": [
                    {
                        "detail": {
                            "cause": "Invalid request format. The request body could not be parsed.",
                            "response": "Invalid request format"
                        },
                        "label": "invalid format"
                    },
                    {
                        "detail": {
                            "cause": "Missing required attributes: ['query', 'model', 'provider']",
                            "response": "Missing required attributes"
                        },
                        "label": "missing attributes"
                    },
                    {
                        "detail": {
                            "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                            "response": "Invalid attribute value"
                        },
                        "label": "invalid value"
                    }
                ]
            },
            "UserDataCollection": {
                "properties": {
                    "feedback_enabled": {
                        "type": "boolean",
                        "title": "Feedback enabled",
                        "description": "When set to true the user feedback is stored and later sent for analysis.",
                        "default": false
                    },
                    "feedback_storage": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Feedback storage directory",
                        "description": "Path to directory where feedback will be saved for further processing."
                    },
                    "transcripts_enabled": {
                        "type": "boolean",
                        "title": "Transcripts enabled",
                        "description": "When set to true the conversation history is stored and later sent for analysis.",
                        "default": false
                    },
                    "transcripts_storage": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Transcripts storage directory",
                        "description": "Path to directory where conversation history will be saved for further processing."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "UserDataCollection",
                "description": "User data collection configuration."
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    }
}
