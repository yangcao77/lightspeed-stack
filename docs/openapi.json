{
    "openapi": "3.1.0",
    "info": {
        "title": "Lightspeed Core Service (LCS) service - OpenAPI",
        "summary": "Lightspeed Core Service (LCS) service API specification.",
        "description": "Lightspeed Core Service (LCS) service API specification.",
        "contact": {
            "name": "Pavel Tisnovsky",
            "url": "https://github.com/tisnik/",
            "email": "ptisnovs@redhat.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "0.3.0"
    },
    "servers": [
        {
            "url": "http://localhost:8080/",
            "description": "Locally running service"
        }
    ],
    "paths": {
        "/": {
            "get": {
                "tags": [
                    "root"
                ],
                "summary": "Root Endpoint Handler",
                "description": "Handle GET requests to the root (\"/\") endpoint and returns the static HTML index page.\n\nReturns:\n    HTMLResponse: The HTML content of the index page, including a heading,\n    embedded image with the service icon, and links to the API documentation\n    via Swagger UI and ReDoc.",
                "operationId": "root_endpoint_handler__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/info": {
            "get": {
                "tags": [
                    "info"
                ],
                "summary": "Info Endpoint Handler",
                "description": "Handle request to the /info endpoint.\n\nProcess GET requests to the /info endpoint, returning the\nservice name, version and Llama-stack version.\n\nReturns:\n    InfoResponse: An object containing the service's name and version.",
                "operationId": "info_endpoint_handler_v1_info_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InfoResponse"
                                },
                                "example": {
                                    "llama_stack_version": "1.0.0",
                                    "name": "Lightspeed Stack",
                                    "service_version": "1.0.0"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "expired token": {
                                        "value": {
                                            "detail": {
                                                "cause": "Token has expired",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid signature": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid token signature",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid key": {
                                        "value": {
                                            "detail": {
                                                "cause": "Token signed by unknown key",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing claim": {
                                        "value": {
                                            "detail": {
                                                "cause": "Token missing claim: user_id",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid k8s token": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid or expired Kubernetes token",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "invalid jwk token": {
                                        "value": {
                                            "detail": {
                                                "cause": "Authentication key server returned invalid data",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/models": {
            "get": {
                "tags": [
                    "models"
                ],
                "summary": "Models Endpoint Handler",
                "description": "Handle requests to the /models endpoint.\n\nProcess GET requests to the /models endpoint, returning a list of available\nmodels from the Llama Stack service.\n\nRaises:\n    HTTPException: If unable to connect to the Llama Stack server or if\n    model retrieval fails for any reason.\n\nReturns:\n    ModelsResponse: An object containing the list of available models.",
                "operationId": "models_endpoint_handler_v1_models_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ModelsResponse"
                                },
                                "example": {
                                    "models": [
                                        {
                                            "api_model_type": "llm",
                                            "identifier": "openai/gpt-4-turbo",
                                            "metadata": {},
                                            "model_type": "llm",
                                            "provider_id": "openai",
                                            "provider_resource_id": "gpt-4-turbo",
                                            "type": "model"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/tools": {
            "get": {
                "tags": [
                    "tools"
                ],
                "summary": "Tools Endpoint Handler",
                "description": "Handle requests to the /tools endpoint.\n\nProcess GET requests to the /tools endpoint, returning a consolidated list of\navailable tools from all configured MCP servers.\n\nRaises:\n    HTTPException: If unable to connect to the Llama Stack server or if\n    tool retrieval fails for any reason.\n\nReturns:\n    ToolsResponse: An object containing the consolidated list of available tools\n    with metadata including tool name, description, parameters, and server source.",
                "operationId": "tools_endpoint_handler_v1_tools_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ToolsResponse"
                                },
                                "example": {
                                    "tools": [
                                        {
                                            "description": "Read contents of a file from the filesystem",
                                            "identifier": "filesystem_read",
                                            "parameters": [
                                                {
                                                    "description": "Path to the file to read",
                                                    "name": "path",
                                                    "parameter_type": "string",
                                                    "required": true
                                                }
                                            ],
                                            "provider_id": "model-context-protocol",
                                            "server_source": "http://localhost:3000",
                                            "toolgroup_id": "filesystem-tools",
                                            "type": "tool"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/shields": {
            "get": {
                "tags": [
                    "shields"
                ],
                "summary": "Shields Endpoint Handler",
                "description": "Handle requests to the /shields endpoint.\n\nProcess GET requests to the /shields endpoint, returning a list of available\nshields from the Llama Stack service.\n\nRaises:\n    HTTPException: If unable to connect to the Llama Stack server or if\n    shield retrieval fails for any reason.\n\nReturns:\n    ShieldsResponse: An object containing the list of available shields.",
                "operationId": "shields_endpoint_handler_v1_shields_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ShieldsResponse"
                                },
                                "example": {
                                    "shields": [
                                        {
                                            "identifier": "lightspeed_question_validity-shield",
                                            "params": {},
                                            "provider_id": "lightspeed_question_validity",
                                            "provider_resource_id": "lightspeed_question_validity-shield",
                                            "type": "shield"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/providers": {
            "get": {
                "tags": [
                    "providers"
                ],
                "summary": "Providers Endpoint Handler",
                "description": "List all available providers grouped by API type.\n\nReturns:\n    ProvidersListResponse: Mapping from API type to list of providers.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "providers_endpoint_handler_v1_providers_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProvidersListResponse"
                                },
                                "example": {
                                    "providers": {
                                        "agents": [
                                            {
                                                "provider_id": "meta-reference",
                                                "provider_type": "inline::meta-reference"
                                            }
                                        ],
                                        "inference": [
                                            {
                                                "provider_id": "sentence-transformers",
                                                "provider_type": "inline::sentence-transformers"
                                            },
                                            {
                                                "provider_id": "openai",
                                                "provider_type": "remote::openai"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/providers/{provider_id}": {
            "get": {
                "tags": [
                    "providers"
                ],
                "summary": "Get Provider Endpoint Handler",
                "description": "Retrieve a single provider by its unique ID.\n\nReturns:\n    ProviderResponse: Provider details.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 404: Provider not found\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "get_provider_endpoint_handler_v1_providers__provider_id__get",
                "parameters": [
                    {
                        "name": "provider_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Provider Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProviderResponse"
                                },
                                "example": {
                                    "api": "inference",
                                    "config": {
                                        "api_key": "********"
                                    },
                                    "health": {
                                        "message": "Healthy",
                                        "status": "OK"
                                    },
                                    "provider_id": "openai",
                                    "provider_type": "remote::openai"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/rags": {
            "get": {
                "tags": [
                    "rags"
                ],
                "summary": "Rags Endpoint Handler",
                "description": "List all available RAGs.\n\nReturns:\n    RAGListResponse: List of RAG identifiers.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "rags_endpoint_handler_v1_rags_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RAGListResponse"
                                },
                                "example": {
                                    "rags": [
                                        "vs_00000000-cafe-babe-0000-000000000000",
                                        "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                                        "vs_7b52a8cf-0fa3-489c-cafe-27e061d102f3"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/rags/{rag_id}": {
            "get": {
                "tags": [
                    "rags"
                ],
                "summary": "Get Rag Endpoint Handler",
                "description": "Retrieve a single RAG by its unique ID.\n\nReturns:\n    RAGInfoResponse: A single RAG's details.\n\nRaises:\n    HTTPException:\n        - 401: Authentication failed\n        - 403: Authorization failed\n        - 404: RAG with the given ID not found\n        - 500: Lightspeed Stack configuration not loaded\n        - 503: Unable to connect to Llama Stack",
                "operationId": "get_rag_endpoint_handler_v1_rags__rag_id__get",
                "parameters": [
                    {
                        "name": "rag_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Rag Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RAGInfoResponse"
                                },
                                "example": {
                                    "created_at": 1763391371,
                                    "id": "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                                    "last_active_at": 1763391371,
                                    "name": "Faiss Store with Knowledge base",
                                    "object": "vector_store",
                                    "status": "completed",
                                    "usage_bytes": 1024000
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "rag": {
                                        "value": {
                                            "detail": {
                                                "cause": "Rag with ID vs_7b52a8cf-0fa3-489c-beab-27e061d102f3 does not exist",
                                                "response": "Rag not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/query": {
            "post": {
                "tags": [
                    "query"
                ],
                "summary": "Query Endpoint Handler",
                "description": "Handle request to the /query endpoint using Agent API.\n\nThis is a wrapper around query_endpoint_handler_base that provides\nthe Agent API specific retrieve_response and get_topic_summary functions.\n\nReturns:\n    QueryResponse: Contains the conversation ID and the LLM-generated response.",
                "operationId": "query_endpoint_handler_v1_query_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QueryResponse"
                                },
                                "example": {
                                    "available_quotas": {
                                        "daily": 1000,
                                        "monthly": 50000
                                    },
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "input_tokens": 150,
                                    "output_tokens": 75,
                                    "rag_chunks": [
                                        {
                                            "content": "OLM is a component of the Operator Framework toolkit...",
                                            "score": 0.95,
                                            "source": "kubernetes-docs/operators.md"
                                        }
                                    ],
                                    "referenced_documents": [
                                        {
                                            "doc_title": "Operator Lifecycle Manager (OLM)",
                                            "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/olm/index.html"
                                        }
                                    ],
                                    "response": "Operator Lifecycle Manager (OLM) helps users install...",
                                    "tool_calls": [
                                        {
                                            "arguments": {
                                                "query": "operator lifecycle manager"
                                            },
                                            "result": {
                                                "chunks_found": 5
                                            },
                                            "tool_name": "knowledge_search"
                                        }
                                    ],
                                    "truncated": false
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "model override": {
                                        "value": {
                                            "detail": {
                                                "cause": "User lacks model_override permission required to override model/provider.",
                                                "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    },
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    },
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "Model with ID gpt-4-turbo is not configured",
                                                "response": "Model not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Quota limit exceeded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QuotaExceededResponse"
                                },
                                "examples": {
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                                                "response": "The model quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user none": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/streaming_query": {
            "post": {
                "tags": [
                    "streaming_query"
                ],
                "summary": "Streaming Query Endpoint Handler",
                "description": "Handle request to the /streaming_query endpoint using Agent API.\n\nThis is a wrapper around streaming_query_endpoint_handler_base that provides\nthe Agent API specific retrieve_response and response generator functions.\n\nReturns:\n    StreamingResponse: An HTTP streaming response yielding\n    SSE-formatted events for the query lifecycle.\n\nRaises:\n    HTTPException: Returns HTTP 500 if unable to connect to the\n    Llama Stack server.",
                "operationId": "streaming_query_endpoint_handler_v1_streaming_query_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Streaming response (Server-Sent Events)",
                        "content": {
                            "application/json": {
                                "schema": {}
                            },
                            "text/event-stream": {
                                "schema": {
                                    "type": "string"
                                },
                                "example": "data: {\"event\": \"start\", \"data\": {\"conversation_id\": \"123e4567-e89b-12d3-a456-426614174000\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 0, \"token\": \"Hello\"}}\n\ndata: {\"event\": \"end\", \"data\": {\"referenced_documents\": [], \"truncated\": null, \"input_tokens\": 0, \"output_tokens\": 0}, \"available_quotas\": {}}\n\n"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "model override": {
                                        "value": {
                                            "detail": {
                                                "cause": "User lacks model_override permission required to override model/provider.",
                                                "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    },
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    },
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "Model with ID gpt-4-turbo is not configured",
                                                "response": "Model not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Quota limit exceeded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QuotaExceededResponse"
                                },
                                "examples": {
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                                                "response": "The model quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user none": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/config": {
            "get": {
                "tags": [
                    "config"
                ],
                "summary": "Config Endpoint Handler",
                "description": "Handle requests to the /config endpoint.\n\nProcess GET requests to the /config endpoint and returns the\ncurrent service configuration.\n\nReturns:\n    ConfigurationResponse: The loaded service configuration response.",
                "operationId": "config_endpoint_handler_v1_config_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConfigurationResponse"
                                },
                                "example": {
                                    "configuration": {
                                        "authentication": {
                                            "module": "noop",
                                            "skip_tls_verification": false
                                        },
                                        "authorization": {
                                            "access_rules": []
                                        },
                                        "byok_rag": [],
                                        "conversation_cache": {},
                                        "database": {
                                            "sqlite": {
                                                "db_path": "/tmp/lightspeed-stack.db"
                                            }
                                        },
                                        "inference": {
                                            "default_model": "gpt-4-turbo",
                                            "default_provider": "openai"
                                        },
                                        "llama_stack": {
                                            "api_key": "*****",
                                            "url": "http://localhost:8321",
                                            "use_as_library_client": false
                                        },
                                        "mcp_servers": [
                                            {
                                                "name": "server1",
                                                "provider_id": "provider1",
                                                "url": "http://url.com:1"
                                            }
                                        ],
                                        "name": "lightspeed-stack",
                                        "quota_handlers": {
                                            "enable_token_history": false,
                                            "limiters": [],
                                            "scheduler": {
                                                "period": 1
                                            }
                                        },
                                        "service": {
                                            "access_log": true,
                                            "auth_enabled": false,
                                            "color_log": true,
                                            "cors": {
                                                "allow_credentials": false,
                                                "allow_headers": [
                                                    "*"
                                                ],
                                                "allow_methods": [
                                                    "*"
                                                ],
                                                "allow_origins": [
                                                    "*"
                                                ]
                                            },
                                            "host": "localhost",
                                            "port": 8080,
                                            "tls_config": {},
                                            "workers": 1
                                        },
                                        "user_data_collection": {
                                            "feedback_enabled": true,
                                            "feedback_storage": "/tmp/data/feedback",
                                            "transcripts_enabled": false,
                                            "transcripts_storage": "/tmp/data/transcripts"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/feedback": {
            "post": {
                "tags": [
                    "feedback"
                ],
                "summary": "Feedback Endpoint Handler",
                "description": "Handle feedback requests.\n\nProcesses a user feedback submission, storing the feedback and\nreturning a confirmation response.\n\nArgs:\n    feedback_request: The request containing feedback information.\n    ensure_feedback_enabled: The feedback handler (FastAPI Depends) that\n        will handle feedback status checks.\n    auth: The Authentication handler (FastAPI Depends) that will\n        handle authentication Logic.\n\nReturns:\n    Response indicating the status of the feedback storage request.\n\nRaises:\n    HTTPException: Returns HTTP 500 if feedback storage fails.",
                "operationId": "feedback_endpoint_handler_v1_feedback_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FeedbackRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedbackResponse"
                                },
                                "example": {
                                    "response": "feedback received"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "feedback": {
                                        "value": {
                                            "detail": {
                                                "cause": "Storing feedback is disabled.",
                                                "response": "Storing feedback is disabled"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "feedback storage": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to store feedback at directory: /path/example",
                                                "response": "Failed to store feedback"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/feedback/status": {
            "get": {
                "tags": [
                    "feedback"
                ],
                "summary": "Feedback Status",
                "description": "Handle feedback status requests.\n\nReturn the current enabled status of the feedback\nfunctionality.\n\nReturns:\n    StatusResponse: Indicates whether feedback collection is enabled.",
                "operationId": "feedback_status_v1_feedback_status_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StatusResponse"
                                },
                                "example": {
                                    "functionality": "feedback",
                                    "status": {
                                        "enabled": true
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "feedback"
                ],
                "summary": "Update Feedback Status",
                "description": "Handle feedback status update requests.\n\nTakes a request with the desired state of the feedback status.\nReturns the updated state of the feedback status based on the request's value.\nThese changes are for the life of the service and are on a per-worker basis.\n\nReturns:\n    FeedbackStatusUpdateResponse: Indicates whether feedback is enabled.",
                "operationId": "update_feedback_status_v1_feedback_status_put",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FeedbackStatusUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedbackStatusUpdateResponse"
                                },
                                "example": {
                                    "status": {
                                        "previous_status": true,
                                        "timestamp": "2023-03-15 12:34:56",
                                        "updated_by": "user/test",
                                        "updated_status": false
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/conversations": {
            "get": {
                "tags": [
                    "conversations"
                ],
                "summary": "Get Conversations List Endpoint Handler",
                "description": "Handle request to retrieve all conversations for the authenticated user.",
                "operationId": "get_conversations_list_endpoint_handler_v1_conversations_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationsListResponse"
                                },
                                "example": {
                                    "conversations": [
                                        {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "created_at": "2024-01-01T00:00:00Z",
                                            "last_message_at": "2024-01-01T00:05:00Z",
                                            "last_used_model": "gemini/gemini-2.0-flash",
                                            "last_used_provider": "gemini",
                                            "message_count": 5,
                                            "topic_summary": "Openshift Microservices Deployment Strategies"
                                        },
                                        {
                                            "conversation_id": "456e7890-e12b-34d5-a678-901234567890",
                                            "created_at": "2024-01-01T01:00:00Z",
                                            "last_used_model": "gemini/gemini-2.5-flash",
                                            "last_used_provider": "gemini",
                                            "message_count": 2,
                                            "topic_summary": "RHDH Purpose Summary"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/conversations/{conversation_id}": {
            "get": {
                "tags": [
                    "conversations"
                ],
                "summary": "Get Conversation Endpoint Handler",
                "description": "Handle request to retrieve a conversation by ID.\n\nRetrieve a conversation's chat history by its ID. Then fetches\nthe conversation session from the Llama Stack backend,\nsimplifies the session data to essential chat history, and\nreturns it in a structured response. Raises HTTP 400 for\ninvalid IDs, 404 if not found, 503 if the backend is\nunavailable, and 500 for unexpected errors.\n\nParameters:\n    conversation_id (str): Unique identifier of the conversation to retrieve.\n\nReturns:\n    ConversationResponse: Structured response containing the conversation\n    ID and simplified chat history.",
                "operationId": "get_conversation_endpoint_handler_v1_conversations__conversation_id__get",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationResponse"
                                },
                                "example": {
                                    "chat_history": [
                                        {
                                            "completed_at": "2024-01-01T00:01:05Z",
                                            "messages": [
                                                {
                                                    "content": "Hello",
                                                    "type": "user"
                                                },
                                                {
                                                    "content": "Hi there!",
                                                    "type": "assistant"
                                                }
                                            ],
                                            "started_at": "2024-01-01T00:01:00Z"
                                        }
                                    ],
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "conversations"
                ],
                "summary": "Delete Conversation Endpoint Handler",
                "description": "Handle request to delete a conversation by ID.\n\nValidates the conversation ID format and attempts to delete the\ncorresponding session from the Llama Stack backend. Raises HTTP\nerrors for invalid IDs, not found conversations, connection\nissues, or unexpected failures.\n\nReturns:\n    ConversationDeleteResponse: Response indicating the result of the deletion operation.",
                "operationId": "delete_conversation_endpoint_handler_v1_conversations__conversation_id__delete",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationDeleteResponse"
                                },
                                "examples": {
                                    "deleted": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation deleted successfully",
                                            "success": true
                                        }
                                    },
                                    "not found": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation can not be deleted",
                                            "success": true
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation delete": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to delete conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "database": {
                                        "value": {
                                            "detail": {
                                                "cause": "Failed to query the database",
                                                "response": "Database query failed"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations": {
            "get": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Get Conversations List Endpoint Handler",
                "description": "Handle request to retrieve all conversations for the authenticated user.",
                "operationId": "get_conversations_list_endpoint_handler_v2_conversations_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationsListResponseV2"
                                },
                                "example": {
                                    "conversations": [
                                        {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "last_message_timestamp": 1704067200.0,
                                            "topic_summary": "Openshift Microservices Deployment Strategies"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{conversation_id}": {
            "get": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Get Conversation Endpoint Handler",
                "description": "Handle request to retrieve a conversation by ID.",
                "operationId": "get_conversation_endpoint_handler_v2_conversations__conversation_id__get",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationResponse"
                                },
                                "example": {
                                    "chat_history": [
                                        {
                                            "completed_at": "2024-01-01T00:01:05Z",
                                            "messages": [
                                                {
                                                    "content": "Hello",
                                                    "type": "user"
                                                },
                                                {
                                                    "content": "Hi there!",
                                                    "type": "assistant"
                                                }
                                            ],
                                            "started_at": "2024-01-01T00:01:00Z"
                                        }
                                    ],
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Delete Conversation Endpoint Handler",
                "description": "Handle request to delete a conversation by ID.",
                "operationId": "delete_conversation_endpoint_handler_v2_conversations__conversation_id__delete",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationDeleteResponse"
                                },
                                "examples": {
                                    "deleted": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation deleted successfully",
                                            "success": true
                                        }
                                    },
                                    "not found": {
                                        "value": {
                                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                            "response": "Conversation can not be deleted",
                                            "success": true
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "conversations_v2"
                ],
                "summary": "Update Conversation Endpoint Handler",
                "description": "Handle request to update a conversation topic summary by ID.",
                "operationId": "update_conversation_endpoint_handler_v2_conversations__conversation_id__put",
                "parameters": [
                    {
                        "name": "conversation_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Conversation Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ConversationUpdateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConversationUpdateResponse"
                                },
                                "example": {
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "message": "Topic summary updated successfully",
                                    "success": true
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request format",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation_id": {
                                        "value": {
                                            "detail": {
                                                "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                                                "response": "Invalid conversation ID format"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    },
                                    "conversation cache": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation cache is not configured or unavailable.",
                                                "response": "Conversation cache not configured"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/query": {
            "post": {
                "tags": [
                    "query_v2"
                ],
                "summary": "Query Endpoint Handler V2",
                "description": "Handle request to the /query endpoint using Responses API.\n\nThis is a wrapper around query_endpoint_handler_base that provides\nthe Responses API specific retrieve_response and get_topic_summary functions.\n\nReturns:\n    QueryResponse: Contains the conversation ID and the LLM-generated response.",
                "operationId": "query_endpoint_handler_v2_v2_query_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QueryResponse"
                                },
                                "example": {
                                    "available_quotas": {
                                        "daily": 1000,
                                        "monthly": 50000
                                    },
                                    "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "input_tokens": 150,
                                    "output_tokens": 75,
                                    "rag_chunks": [
                                        {
                                            "content": "OLM is a component of the Operator Framework toolkit...",
                                            "score": 0.95,
                                            "source": "kubernetes-docs/operators.md"
                                        }
                                    ],
                                    "referenced_documents": [
                                        {
                                            "doc_title": "Operator Lifecycle Manager (OLM)",
                                            "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/olm/index.html"
                                        }
                                    ],
                                    "response": "Operator Lifecycle Manager (OLM) helps users install...",
                                    "tool_calls": [
                                        {
                                            "arguments": {
                                                "query": "operator lifecycle manager"
                                            },
                                            "result": {
                                                "chunks_found": 5
                                            },
                                            "tool_name": "knowledge_search"
                                        }
                                    ],
                                    "truncated": false
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "model override": {
                                        "value": {
                                            "detail": {
                                                "cause": "User lacks model_override permission required to override model/provider.",
                                                "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    },
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    },
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "Model with ID gpt-4-turbo is not configured",
                                                "response": "Model not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Quota limit exceeded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QuotaExceededResponse"
                                },
                                "examples": {
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                                                "response": "The model quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user none": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/streaming_query": {
            "post": {
                "tags": [
                    "streaming_query_v2"
                ],
                "summary": "Streaming Query Endpoint Handler V2",
                "description": "Handle request to the /streaming_query endpoint using Responses API.\n\nThis is a wrapper around streaming_query_endpoint_handler_base that provides\nthe Responses API specific retrieve_response and response generator functions.\n\nReturns:\n    StreamingResponse: An HTTP streaming response yielding\n    SSE-formatted events for the query lifecycle.\n\nRaises:\n    HTTPException: Returns HTTP 500 if unable to connect to the\n    Llama Stack server.",
                "operationId": "streaming_query_endpoint_handler_v2_v2_streaming_query_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Streaming response with Server-Sent Events",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "example": "data: {\"event\": \"start\", \"data\": {\"conversation_id\": \"123e4567-e89b-12d3-a456-426614174000\"}}\n\ndata: {\"event\": \"token\", \"data\": {\"id\": 0, \"token\": \"Hello\"}}\n\ndata: {\"event\": \"end\", \"data\": {\"referenced_documents\": [], \"truncated\": null, \"input_tokens\": 0, \"output_tokens\": 0}, \"available_quotas\": {}}\n\n"
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "type": "string",
                                    "example": "Hello world!\n\n---\n\nReference: https://example.com/doc"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "conversation read": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                                                "response": "User does not have permission to perform this action"
                                            }
                                        }
                                    },
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    },
                                    "model override": {
                                        "value": {
                                            "detail": {
                                                "cause": "User lacks model_override permission required to override model/provider.",
                                                "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                },
                                "examples": {
                                    "conversation": {
                                        "value": {
                                            "detail": {
                                                "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                                                "response": "Conversation not found"
                                            }
                                        }
                                    },
                                    "provider": {
                                        "value": {
                                            "detail": {
                                                "cause": "Provider with ID openai does not exist",
                                                "response": "Provider not found"
                                            }
                                        }
                                    },
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "Model with ID gpt-4-turbo is not configured",
                                                "response": "Model not found"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Request validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnprocessableEntityResponse"
                                },
                                "examples": {
                                    "invalid format": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid request format. The request body could not be parsed.",
                                                "response": "Invalid request format"
                                            }
                                        }
                                    },
                                    "missing attributes": {
                                        "value": {
                                            "detail": {
                                                "cause": "Missing required attributes: ['query', 'model', 'provider']",
                                                "response": "Missing required attributes"
                                            }
                                        }
                                    },
                                    "invalid value": {
                                        "value": {
                                            "detail": {
                                                "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                                                "response": "Invalid attribute value"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Quota limit exceeded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QuotaExceededResponse"
                                },
                                "examples": {
                                    "model": {
                                        "value": {
                                            "detail": {
                                                "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                                                "response": "The model quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user none": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject none": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has no available tokens.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "user insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "cluster insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    },
                                    "subject insufficient": {
                                        "value": {
                                            "detail": {
                                                "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                                                "response": "The quota has been exceeded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                },
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/readiness": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Readiness Probe Get Method",
                "description": "Handle the readiness probe endpoint, returning service readiness.\n\nIf any provider reports an error status, responds with HTTP 503\nand details of unhealthy providers; otherwise, indicates the\nservice is ready.",
                "operationId": "readiness_probe_get_method_readiness_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReadinessResponse"
                                },
                                "example": {
                                    "providers": [],
                                    "ready": true,
                                    "reason": "Service is ready"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                },
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/liveness": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Liveness Probe Get Method",
                "description": "Return the liveness status of the service.\n\nReturns:\n    LivenessResponse: Indicates that the service is alive.",
                "operationId": "liveness_probe_get_method_liveness_get",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LivenessResponse"
                                },
                                "example": {
                                    "alive": true
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/authorized": {
            "post": {
                "tags": [
                    "authorized"
                ],
                "summary": "Authorized Endpoint Handler",
                "description": "Handle request to the /authorized endpoint.\n\nProcess POST requests to the /authorized endpoint, returning\nthe authenticated user's ID and username.\n\nReturns:\n    AuthorizedResponse: Contains the user ID and username of the authenticated user.",
                "operationId": "authorized_endpoint_handler_authorized_post",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthorizedResponse"
                                },
                                "example": {
                                    "skip_userid_check": false,
                                    "user_id": "123e4567-e89b-12d3-a456-426614174000",
                                    "username": "user1"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                },
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                },
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/metrics": {
            "get": {
                "tags": [
                    "metrics"
                ],
                "summary": "Metrics Endpoint Handler",
                "description": "Handle request to the /metrics endpoint.\n\nProcess GET requests to the /metrics endpoint, returning the\nlatest Prometheus metrics in form of a plain text.\n\nInitializes model metrics on the first request if not already\nset up, then responds with the current metrics snapshot in\nPrometheus format.",
                "operationId": "metrics_endpoint_handler_metrics_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "missing header": {
                                        "value": {
                                            "detail": {
                                                "cause": "No Authorization header found",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    },
                                    "missing token": {
                                        "value": {
                                            "detail": {
                                                "cause": "No token found in Authorization header",
                                                "response": "Missing or invalid credentials provided by client"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Permission denied",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "endpoint": {
                                        "value": {
                                            "detail": {
                                                "cause": "User 6789 is not authorized to access this endpoint.",
                                                "response": "User does not have permission to access this endpoint"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/ForbiddenResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "configuration": {
                                        "value": {
                                            "detail": {
                                                "cause": "Lightspeed Stack configuration has not been initialized.",
                                                "response": "Configuration is not loaded"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/InternalServerErrorResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "examples": {
                                    "llama stack": {
                                        "value": {
                                            "detail": {
                                                "cause": "Connection error while trying to reach backend service.",
                                                "response": "Unable to connect to Llama Stack"
                                            }
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServiceUnavailableResponse"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AccessRule": {
                "properties": {
                    "role": {
                        "type": "string",
                        "title": "Role"
                    },
                    "actions": {
                        "items": {
                            "$ref": "#/components/schemas/Action"
                        },
                        "type": "array",
                        "title": "Actions"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "role",
                    "actions"
                ],
                "title": "AccessRule",
                "description": "Rule defining what actions a role can perform."
            },
            "Action": {
                "type": "string",
                "enum": [
                    "admin",
                    "list_other_conversations",
                    "read_other_conversations",
                    "query_other_conversations",
                    "delete_other_conversations",
                    "query",
                    "streaming_query",
                    "get_conversation",
                    "list_conversations",
                    "delete_conversation",
                    "update_conversation",
                    "feedback",
                    "get_models",
                    "get_tools",
                    "get_shields",
                    "list_providers",
                    "get_provider",
                    "list_rags",
                    "get_rag",
                    "get_metrics",
                    "get_config",
                    "info",
                    "model_override"
                ],
                "title": "Action",
                "description": "Available actions in the system."
            },
            "Attachment": {
                "properties": {
                    "attachment_type": {
                        "type": "string",
                        "title": "Attachment Type",
                        "description": "The attachment type, like 'log', 'configuration' etc.",
                        "examples": [
                            "log"
                        ]
                    },
                    "content_type": {
                        "type": "string",
                        "title": "Content Type",
                        "description": "The content type as defined in MIME standard",
                        "examples": [
                            "text/plain"
                        ]
                    },
                    "content": {
                        "type": "string",
                        "title": "Content",
                        "description": "The actual attachment content",
                        "examples": [
                            "warning: quota exceeded"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "attachment_type",
                    "content_type",
                    "content"
                ],
                "title": "Attachment",
                "description": "Model representing an attachment that can be send from the UI as part of query.\n\nA list of attachments can be an optional part of 'query' request.\n\nAttributes:\n    attachment_type: The attachment type, like \"log\", \"configuration\" etc.\n    content_type: The content type as defined in MIME standard\n    content: The actual attachment content\n\nYAML attachments with **kind** and **metadata/name** attributes will\nbe handled as resources with the specified name:\n```\nkind: Pod\nmetadata:\n    name: private-reg\n```",
                "examples": [
                    {
                        "attachment_type": "log",
                        "content": "this is attachment",
                        "content_type": "text/plain"
                    },
                    {
                        "attachment_type": "configuration",
                        "content": "kind: Pod\n metadata:\n name:    private-reg",
                        "content_type": "application/yaml"
                    },
                    {
                        "attachment_type": "configuration",
                        "content": "foo: bar",
                        "content_type": "application/yaml"
                    }
                ]
            },
            "AuthenticationConfiguration": {
                "properties": {
                    "module": {
                        "type": "string",
                        "title": "Module",
                        "default": "noop"
                    },
                    "skip_tls_verification": {
                        "type": "boolean",
                        "title": "Skip Tls Verification",
                        "default": false
                    },
                    "k8s_cluster_api": {
                        "anyOf": [
                            {
                                "type": "string",
                                "minLength": 1,
                                "format": "uri"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "K8S Cluster Api"
                    },
                    "k8s_ca_cert_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "K8S Ca Cert Path"
                    },
                    "jwk_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/JwkConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "rh_identity_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RHIdentityConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "AuthenticationConfiguration",
                "description": "Authentication configuration."
            },
            "AuthorizationConfiguration": {
                "properties": {
                    "access_rules": {
                        "items": {
                            "$ref": "#/components/schemas/AccessRule"
                        },
                        "type": "array",
                        "title": "Access Rules"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "AuthorizationConfiguration",
                "description": "Authorization configuration."
            },
            "AuthorizedResponse": {
                "properties": {
                    "user_id": {
                        "type": "string",
                        "title": "User Id",
                        "description": "User ID, for example UUID",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "username": {
                        "type": "string",
                        "title": "Username",
                        "description": "User name",
                        "examples": [
                            "John Doe",
                            "Adam Smith"
                        ]
                    },
                    "skip_userid_check": {
                        "type": "boolean",
                        "title": "Skip Userid Check",
                        "description": "Whether to skip the user ID check",
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "username",
                    "skip_userid_check"
                ],
                "title": "AuthorizedResponse",
                "description": "Model representing a response to an authorization request.\n\nAttributes:\n    user_id: The ID of the logged in user.\n    username: The name of the logged in user.\n    skip_userid_check: Whether to skip the user ID check.",
                "examples": [
                    {
                        "skip_userid_check": false,
                        "user_id": "123e4567-e89b-12d3-a456-426614174000",
                        "username": "user1"
                    }
                ]
            },
            "BadRequestResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "BadRequestResponse",
                "description": "400 Bad Request. Invalid resource identifier.",
                "examples": [
                    {
                        "detail": {
                            "cause": "The conversation ID 123e4567-e89b-12d3-a456-426614174000 has invalid format.",
                            "response": "Invalid conversation ID format"
                        },
                        "label": "conversation_id"
                    }
                ]
            },
            "ByokRag": {
                "properties": {
                    "rag_id": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Rag Id"
                    },
                    "rag_type": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Rag Type",
                        "default": "inline::faiss"
                    },
                    "embedding_model": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Embedding Model",
                        "default": "sentence-transformers/all-mpnet-base-v2"
                    },
                    "embedding_dimension": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Embedding Dimension",
                        "default": 768
                    },
                    "vector_db_id": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Vector Db Id"
                    },
                    "db_path": {
                        "type": "string",
                        "format": "file-path",
                        "title": "Db Path"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "rag_id",
                    "vector_db_id",
                    "db_path"
                ],
                "title": "ByokRag",
                "description": "BYOK RAG configuration."
            },
            "CORSConfiguration": {
                "properties": {
                    "allow_origins": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Allow Origins",
                        "default": [
                            "*"
                        ]
                    },
                    "allow_credentials": {
                        "type": "boolean",
                        "title": "Allow Credentials",
                        "default": false
                    },
                    "allow_methods": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Allow Methods",
                        "default": [
                            "*"
                        ]
                    },
                    "allow_headers": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Allow Headers",
                        "default": [
                            "*"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "CORSConfiguration",
                "description": "CORS configuration."
            },
            "Configuration": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "service": {
                        "$ref": "#/components/schemas/ServiceConfiguration"
                    },
                    "llama_stack": {
                        "$ref": "#/components/schemas/LlamaStackConfiguration"
                    },
                    "user_data_collection": {
                        "$ref": "#/components/schemas/UserDataCollection"
                    },
                    "database": {
                        "$ref": "#/components/schemas/DatabaseConfiguration"
                    },
                    "mcp_servers": {
                        "items": {
                            "$ref": "#/components/schemas/ModelContextProtocolServer"
                        },
                        "type": "array",
                        "title": "Mcp Servers"
                    },
                    "authentication": {
                        "$ref": "#/components/schemas/AuthenticationConfiguration"
                    },
                    "authorization": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/AuthorizationConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "customization": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Customization"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "inference": {
                        "$ref": "#/components/schemas/InferenceConfiguration"
                    },
                    "conversation_cache": {
                        "$ref": "#/components/schemas/ConversationHistoryConfiguration"
                    },
                    "byok_rag": {
                        "items": {
                            "$ref": "#/components/schemas/ByokRag"
                        },
                        "type": "array",
                        "title": "Byok Rag"
                    },
                    "quota_handlers": {
                        "$ref": "#/components/schemas/QuotaHandlersConfiguration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "name",
                    "service",
                    "llama_stack",
                    "user_data_collection"
                ],
                "title": "Configuration",
                "description": "Global service configuration."
            },
            "ConfigurationResponse": {
                "properties": {
                    "configuration": {
                        "$ref": "#/components/schemas/Configuration"
                    }
                },
                "type": "object",
                "required": [
                    "configuration"
                ],
                "title": "ConfigurationResponse",
                "description": "Success response model for the config endpoint.",
                "examples": [
                    {
                        "configuration": {
                            "authentication": {
                                "module": "noop",
                                "skip_tls_verification": false
                            },
                            "authorization": {
                                "access_rules": []
                            },
                            "byok_rag": [],
                            "conversation_cache": {},
                            "database": {
                                "sqlite": {
                                    "db_path": "/tmp/lightspeed-stack.db"
                                }
                            },
                            "inference": {
                                "default_model": "gpt-4-turbo",
                                "default_provider": "openai"
                            },
                            "llama_stack": {
                                "api_key": "*****",
                                "url": "http://localhost:8321",
                                "use_as_library_client": false
                            },
                            "mcp_servers": [
                                {
                                    "name": "server1",
                                    "provider_id": "provider1",
                                    "url": "http://url.com:1"
                                }
                            ],
                            "name": "lightspeed-stack",
                            "quota_handlers": {
                                "enable_token_history": false,
                                "limiters": [],
                                "scheduler": {
                                    "period": 1
                                }
                            },
                            "service": {
                                "access_log": true,
                                "auth_enabled": false,
                                "color_log": true,
                                "cors": {
                                    "allow_credentials": false,
                                    "allow_headers": [
                                        "*"
                                    ],
                                    "allow_methods": [
                                        "*"
                                    ],
                                    "allow_origins": [
                                        "*"
                                    ]
                                },
                                "host": "localhost",
                                "port": 8080,
                                "tls_config": {},
                                "workers": 1
                            },
                            "user_data_collection": {
                                "feedback_enabled": true,
                                "feedback_storage": "/tmp/data/feedback",
                                "transcripts_enabled": false,
                                "transcripts_storage": "/tmp/data/transcripts"
                            }
                        }
                    }
                ]
            },
            "ConversationData": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id"
                    },
                    "topic_summary": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Topic Summary"
                    },
                    "last_message_timestamp": {
                        "type": "number",
                        "title": "Last Message Timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "topic_summary",
                    "last_message_timestamp"
                ],
                "title": "ConversationData",
                "description": "Model representing conversation data returned by cache list operations.\n\nAttributes:\n    conversation_id: The conversation ID\n    topic_summary: The topic summary for the conversation (can be None)\n    last_message_timestamp: The timestamp of the last message in the conversation"
            },
            "ConversationDeleteResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "The conversation ID (UUID) that was deleted.",
                        "examples": [
                            "123e4567-e89b-12d3-a456-426614174000"
                        ]
                    },
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Whether the deletion was successful.",
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "A message about the deletion result.",
                        "examples": [
                            "Conversation deleted successfully",
                            "Conversation cannot be deleted"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "success",
                    "response"
                ],
                "title": "ConversationDeleteResponse",
                "description": "Model representing a response for deleting a conversation.\n\nAttributes:\n    conversation_id: The conversation ID (UUID) that was deleted.\n    success: Whether the deletion was successful.\n    response: A message about the deletion result.",
                "examples": [
                    {
                        "label": "deleted",
                        "value": {
                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                            "response": "Conversation deleted successfully",
                            "success": true
                        }
                    },
                    {
                        "label": "not found",
                        "value": {
                            "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                            "response": "Conversation can not be deleted",
                            "success": true
                        }
                    }
                ]
            },
            "ConversationDetails": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "When the conversation was created",
                        "examples": [
                            "2024-01-01T01:00:00Z"
                        ]
                    },
                    "last_message_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Message At",
                        "description": "When the last message was sent",
                        "examples": [
                            "2024-01-01T01:00:00Z"
                        ]
                    },
                    "message_count": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Message Count",
                        "description": "Number of user messages in the conversation",
                        "examples": [
                            42
                        ]
                    },
                    "last_used_model": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Used Model",
                        "description": "Identification of the last model used for the conversation",
                        "examples": [
                            "gpt-4-turbo",
                            "gpt-3.5-turbo-0125"
                        ]
                    },
                    "last_used_provider": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Used Provider",
                        "description": "Identification of the last provider used for the conversation",
                        "examples": [
                            "openai",
                            "gemini"
                        ]
                    },
                    "topic_summary": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Topic Summary",
                        "description": "Topic summary for the conversation",
                        "examples": [
                            "Openshift Microservices Deployment Strategies"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id"
                ],
                "title": "ConversationDetails",
                "description": "Model representing the details of a user conversation.\n\nAttributes:\n    conversation_id: The conversation ID (UUID).\n    created_at: When the conversation was created.\n    last_message_at: When the last message was sent.\n    message_count: Number of user messages in the conversation.\n    last_used_model: The last model used for the conversation.\n    last_used_provider: The provider of the last used model.\n    topic_summary: The topic summary for the conversation."
            },
            "ConversationHistoryConfiguration": {
                "properties": {
                    "type": {
                        "anyOf": [
                            {
                                "type": "string",
                                "enum": [
                                    "noop",
                                    "memory",
                                    "sqlite",
                                    "postgres"
                                ]
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Type"
                    },
                    "memory": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/InMemoryCacheConfig"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "ConversationHistoryConfiguration",
                "description": "Conversation cache configuration."
            },
            "ConversationResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "chat_history": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Chat History",
                        "description": "The simplified chat history as a list of conversation turns",
                        "examples": [
                            {
                                "completed_at": "2024-01-01T00:01:05Z",
                                "messages": [
                                    {
                                        "content": "Hello",
                                        "type": "user"
                                    },
                                    {
                                        "content": "Hi there!",
                                        "type": "assistant"
                                    }
                                ],
                                "started_at": "2024-01-01T00:01:00Z"
                            }
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "chat_history"
                ],
                "title": "ConversationResponse",
                "description": "Model representing a response for retrieving a conversation.\n\nAttributes:\n    conversation_id: The conversation ID (UUID).\n    chat_history: The simplified chat history as a list of conversation turns.",
                "examples": [
                    {
                        "chat_history": [
                            {
                                "completed_at": "2024-01-01T00:01:05Z",
                                "messages": [
                                    {
                                        "content": "Hello",
                                        "type": "user"
                                    },
                                    {
                                        "content": "Hi there!",
                                        "type": "assistant"
                                    }
                                ],
                                "started_at": "2024-01-01T00:01:00Z"
                            }
                        ],
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000"
                    }
                ]
            },
            "ConversationUpdateRequest": {
                "properties": {
                    "topic_summary": {
                        "type": "string",
                        "maxLength": 1000,
                        "minLength": 1,
                        "title": "Topic Summary",
                        "description": "The new topic summary for the conversation",
                        "examples": [
                            "Discussion about machine learning algorithms"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "topic_summary"
                ],
                "title": "ConversationUpdateRequest",
                "description": "Model representing a request to update a conversation topic summary.\n\nAttributes:\n    topic_summary: The new topic summary for the conversation.\n\nExample:\n    ```python\n    update_request = ConversationUpdateRequest(\n        topic_summary=\"Discussion about machine learning algorithms\"\n    )\n    ```"
            },
            "ConversationUpdateResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "The conversation ID (UUID) that was updated"
                    },
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Whether the update was successful"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "A message about the update result"
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "success",
                    "message"
                ],
                "title": "ConversationUpdateResponse",
                "description": "Model representing a response for updating a conversation topic summary.\n\nAttributes:\n    conversation_id: The conversation ID (UUID) that was updated.\n    success: Whether the update was successful.\n    message: A message about the update result.",
                "examples": [
                    {
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                        "message": "Topic summary updated successfully",
                        "success": true
                    }
                ]
            },
            "ConversationsListResponse": {
                "properties": {
                    "conversations": {
                        "items": {
                            "$ref": "#/components/schemas/ConversationDetails"
                        },
                        "type": "array",
                        "title": "Conversations"
                    }
                },
                "type": "object",
                "required": [
                    "conversations"
                ],
                "title": "ConversationsListResponse",
                "description": "Model representing a response for listing conversations of a user.\n\nAttributes:\n    conversations: List of conversation details associated with the user.",
                "examples": [
                    {
                        "conversations": [
                            {
                                "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                "created_at": "2024-01-01T00:00:00Z",
                                "last_message_at": "2024-01-01T00:05:00Z",
                                "last_used_model": "gemini/gemini-2.0-flash",
                                "last_used_provider": "gemini",
                                "message_count": 5,
                                "topic_summary": "Openshift Microservices Deployment Strategies"
                            },
                            {
                                "conversation_id": "456e7890-e12b-34d5-a678-901234567890",
                                "created_at": "2024-01-01T01:00:00Z",
                                "last_used_model": "gemini/gemini-2.5-flash",
                                "last_used_provider": "gemini",
                                "message_count": 2,
                                "topic_summary": "RHDH Purpose Summary"
                            }
                        ]
                    }
                ]
            },
            "ConversationsListResponseV2": {
                "properties": {
                    "conversations": {
                        "items": {
                            "$ref": "#/components/schemas/ConversationData"
                        },
                        "type": "array",
                        "title": "Conversations"
                    }
                },
                "type": "object",
                "required": [
                    "conversations"
                ],
                "title": "ConversationsListResponseV2",
                "description": "Model representing a response for listing conversations of a user.\n\nAttributes:\n    conversations: List of conversation data associated with the user.",
                "examples": [
                    {
                        "conversations": [
                            {
                                "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                                "last_message_timestamp": 1704067200.0,
                                "topic_summary": "Openshift Microservices Deployment Strategies"
                            }
                        ]
                    }
                ]
            },
            "CustomProfile": {
                "properties": {
                    "path": {
                        "type": "string",
                        "title": "Path"
                    },
                    "prompts": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Prompts",
                        "default": {}
                    }
                },
                "type": "object",
                "required": [
                    "path"
                ],
                "title": "CustomProfile",
                "description": "Custom profile customization for prompts and validation."
            },
            "Customization": {
                "properties": {
                    "profile_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Profile Path"
                    },
                    "disable_query_system_prompt": {
                        "type": "boolean",
                        "title": "Disable Query System Prompt",
                        "default": false
                    },
                    "system_prompt_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "System Prompt Path"
                    },
                    "system_prompt": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "System Prompt"
                    },
                    "custom_profile": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/CustomProfile"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "Customization",
                "description": "Service customization."
            },
            "DatabaseConfiguration": {
                "properties": {
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "DatabaseConfiguration",
                "description": "Database configuration."
            },
            "DetailModel": {
                "properties": {
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "Short summary of the error"
                    },
                    "cause": {
                        "type": "string",
                        "title": "Cause",
                        "description": "Detailed explanation of what caused the error"
                    }
                },
                "type": "object",
                "required": [
                    "response",
                    "cause"
                ],
                "title": "DetailModel",
                "description": "Nested detail model for error responses."
            },
            "FeedbackCategory": {
                "type": "string",
                "enum": [
                    "incorrect",
                    "not_relevant",
                    "incomplete",
                    "outdated_information",
                    "unsafe",
                    "other"
                ],
                "title": "FeedbackCategory",
                "description": "Enum representing predefined feedback categories for AI responses.\n\nThese categories help provide structured feedback about AI inference quality\nwhen users provide negative feedback (thumbs down). Multiple categories can\nbe selected to provide comprehensive feedback about response issues."
            },
            "FeedbackRequest": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "The required conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "user_question": {
                        "type": "string",
                        "title": "User Question",
                        "description": "User question (the query string)",
                        "examples": [
                            "What is Kubernetes?"
                        ]
                    },
                    "llm_response": {
                        "type": "string",
                        "title": "Llm Response",
                        "description": "Response from LLM",
                        "examples": [
                            "Kubernetes is an open-source container orchestration system for automating ..."
                        ]
                    },
                    "sentiment": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Sentiment",
                        "description": "User sentiment, if provided must be -1 or 1",
                        "examples": [
                            -1,
                            1
                        ]
                    },
                    "user_feedback": {
                        "anyOf": [
                            {
                                "type": "string",
                                "maxLength": 4096
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "User Feedback",
                        "description": "Feedback on the LLM response.",
                        "examples": [
                            "I'm not satisfied with the response because it is too vague."
                        ]
                    },
                    "categories": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/FeedbackCategory"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Categories",
                        "description": "List of feedback categories that describe issues with the LLM response (for negative feedback).",
                        "examples": [
                            [
                                "incorrect",
                                "incomplete"
                            ]
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "conversation_id",
                    "user_question",
                    "llm_response"
                ],
                "title": "FeedbackRequest",
                "description": "Model representing a feedback request.\n\nAttributes:\n    conversation_id: The required conversation ID (UUID).\n    user_question: The required user question.\n    llm_response: The required LLM response.\n    sentiment: The optional sentiment.\n    user_feedback: The optional user feedback.\n    categories: The optional list of feedback categories (multi-select for negative feedback).\n\nExample:\n    ```python\n    feedback_request = FeedbackRequest(\n        conversation_id=\"12345678-abcd-0000-0123-456789abcdef\",\n        user_question=\"what are you doing?\",\n        user_feedback=\"This response is not helpful\",\n        llm_response=\"I don't know\",\n        sentiment=-1,\n        categories=[FeedbackCategory.INCORRECT, FeedbackCategory.INCOMPLETE]\n    )\n    ```",
                "examples": [
                    {
                        "conversation_id": "12345678-abcd-0000-0123-456789abcdef",
                        "llm_response": "bar",
                        "sentiment": -1,
                        "user_feedback": "Not satisfied with the response quality.",
                        "user_question": "foo"
                    },
                    {
                        "categories": [
                            "incorrect"
                        ],
                        "conversation_id": "12345678-abcd-0000-0123-456789abcdef",
                        "llm_response": "The capital of France is Berlin.",
                        "sentiment": -1,
                        "user_question": "What is the capital of France?"
                    },
                    {
                        "categories": [
                            "incomplete",
                            "not_relevant"
                        ],
                        "conversation_id": "12345678-abcd-0000-0123-456789abcdef",
                        "llm_response": "Use Docker.",
                        "sentiment": -1,
                        "user_feedback": "This response is too general and doesn't provide specific steps.",
                        "user_question": "How do I deploy a web app?"
                    }
                ]
            },
            "FeedbackResponse": {
                "properties": {
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "The response of the feedback request.",
                        "examples": [
                            "feedback received"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "response"
                ],
                "title": "FeedbackResponse",
                "description": "Model representing a response to a feedback request.\n\nAttributes:\n    response: The response of the feedback request.",
                "examples": [
                    {
                        "response": "feedback received"
                    }
                ]
            },
            "FeedbackStatusUpdateRequest": {
                "properties": {
                    "status": {
                        "type": "boolean",
                        "title": "Status",
                        "description": "Desired state of feedback enablement, must be False or True",
                        "default": false,
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "FeedbackStatusUpdateRequest",
                "description": "Model representing a feedback status update request.\n\nAttributes:\n    status: Value of the desired feedback enabled state.\n\nExample:\n    ```python\n    feedback_request = FeedbackRequest(\n        status=false\n    )\n    ```"
            },
            "FeedbackStatusUpdateResponse": {
                "properties": {
                    "status": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Status"
                    }
                },
                "type": "object",
                "required": [
                    "status"
                ],
                "title": "FeedbackStatusUpdateResponse",
                "description": "Model representing a response to a feedback status update request.\n\nAttributes:\n    status: The previous and current status of the service and who updated it.",
                "examples": [
                    {
                        "status": {
                            "previous_status": true,
                            "timestamp": "2023-03-15 12:34:56",
                            "updated_by": "user/test",
                            "updated_status": false
                        }
                    }
                ]
            },
            "ForbiddenResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "ForbiddenResponse",
                "description": "403 Forbidden. Access denied.",
                "examples": [
                    {
                        "detail": {
                            "cause": "User 6789 does not have permission to read conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                            "response": "User does not have permission to perform this action"
                        },
                        "label": "conversation read"
                    },
                    {
                        "detail": {
                            "cause": "User 6789 does not have permission to delete conversation with ID 123e4567-e89b-12d3-a456-426614174000",
                            "response": "User does not have permission to perform this action"
                        },
                        "label": "conversation delete"
                    },
                    {
                        "detail": {
                            "cause": "User 6789 is not authorized to access this endpoint.",
                            "response": "User does not have permission to access this endpoint"
                        },
                        "label": "endpoint"
                    },
                    {
                        "detail": {
                            "cause": "Storing feedback is disabled.",
                            "response": "Storing feedback is disabled"
                        },
                        "label": "feedback"
                    },
                    {
                        "detail": {
                            "cause": "User lacks model_override permission required to override model/provider.",
                            "response": "This instance does not permit overriding model/provider in the query request (missing permission: MODEL_OVERRIDE). Please remove the model and provider fields from your request."
                        },
                        "label": "model override"
                    }
                ]
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "InMemoryCacheConfig": {
                "properties": {
                    "max_entries": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Max Entries"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "max_entries"
                ],
                "title": "InMemoryCacheConfig",
                "description": "In-memory cache configuration."
            },
            "InferenceConfiguration": {
                "properties": {
                    "default_model": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Default Model"
                    },
                    "default_provider": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Default Provider"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "InferenceConfiguration",
                "description": "Inference configuration."
            },
            "InfoResponse": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Service name",
                        "examples": [
                            "Lightspeed Stack"
                        ]
                    },
                    "service_version": {
                        "type": "string",
                        "title": "Service Version",
                        "description": "Service version",
                        "examples": [
                            "0.1.0",
                            "0.2.0",
                            "1.0.0"
                        ]
                    },
                    "llama_stack_version": {
                        "type": "string",
                        "title": "Llama Stack Version",
                        "description": "Llama Stack version",
                        "examples": [
                            "0.2.1",
                            "0.2.2",
                            "0.2.18",
                            "0.2.21",
                            "0.2.22"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "service_version",
                    "llama_stack_version"
                ],
                "title": "InfoResponse",
                "description": "Model representing a response to an info request.\n\nAttributes:\n    name: Service name.\n    service_version: Service version.\n    llama_stack_version: Llama Stack version.",
                "examples": [
                    {
                        "llama_stack_version": "1.0.0",
                        "name": "Lightspeed Stack",
                        "service_version": "1.0.0"
                    }
                ]
            },
            "InternalServerErrorResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "InternalServerErrorResponse",
                "description": "500 Internal Server Error.",
                "examples": [
                    {
                        "detail": {
                            "cause": "An unexpected error occurred while processing the request.",
                            "response": "Internal server error"
                        },
                        "label": "internal"
                    },
                    {
                        "detail": {
                            "cause": "Lightspeed Stack configuration has not been initialized.",
                            "response": "Configuration is not loaded"
                        },
                        "label": "configuration"
                    },
                    {
                        "detail": {
                            "cause": "Failed to store feedback at directory: /path/example",
                            "response": "Failed to store feedback"
                        },
                        "label": "feedback storage"
                    },
                    {
                        "detail": {
                            "cause": "Failed to call backend API",
                            "response": "Error while processing query"
                        },
                        "label": "query"
                    },
                    {
                        "detail": {
                            "cause": "Conversation cache is not configured or unavailable.",
                            "response": "Conversation cache not configured"
                        },
                        "label": "conversation cache"
                    },
                    {
                        "detail": {
                            "cause": "Failed to query the database",
                            "response": "Database query failed"
                        },
                        "label": "database"
                    }
                ]
            },
            "JsonPathOperator": {
                "type": "string",
                "enum": [
                    "equals",
                    "contains",
                    "in",
                    "match"
                ],
                "title": "JsonPathOperator",
                "description": "Supported operators for JSONPath evaluation."
            },
            "JwkConfiguration": {
                "properties": {
                    "url": {
                        "type": "string",
                        "minLength": 1,
                        "format": "uri",
                        "title": "Url"
                    },
                    "jwt_configuration": {
                        "$ref": "#/components/schemas/JwtConfiguration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "url"
                ],
                "title": "JwkConfiguration",
                "description": "JWK configuration."
            },
            "JwtConfiguration": {
                "properties": {
                    "user_id_claim": {
                        "type": "string",
                        "title": "User Id Claim",
                        "default": "user_id"
                    },
                    "username_claim": {
                        "type": "string",
                        "title": "Username Claim",
                        "default": "username"
                    },
                    "role_rules": {
                        "items": {
                            "$ref": "#/components/schemas/JwtRoleRule"
                        },
                        "type": "array",
                        "title": "Role Rules"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "JwtConfiguration",
                "description": "JWT configuration."
            },
            "JwtRoleRule": {
                "properties": {
                    "jsonpath": {
                        "type": "string",
                        "title": "Jsonpath"
                    },
                    "operator": {
                        "$ref": "#/components/schemas/JsonPathOperator"
                    },
                    "negate": {
                        "type": "boolean",
                        "title": "Negate",
                        "default": false
                    },
                    "value": {
                        "title": "Value"
                    },
                    "roles": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Roles"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "jsonpath",
                    "operator",
                    "value",
                    "roles"
                ],
                "title": "JwtRoleRule",
                "description": "Rule for extracting roles from JWT claims."
            },
            "LivenessResponse": {
                "properties": {
                    "alive": {
                        "type": "boolean",
                        "title": "Alive",
                        "description": "Flag indicating that the app is alive",
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "alive"
                ],
                "title": "LivenessResponse",
                "description": "Model representing a response to a liveness request.\n\nAttributes:\n    alive: If app is alive.",
                "examples": [
                    {
                        "alive": true
                    }
                ]
            },
            "LlamaStackConfiguration": {
                "properties": {
                    "url": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Url"
                    },
                    "api_key": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "password",
                                "writeOnly": true
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Api Key"
                    },
                    "use_as_library_client": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Use As Library Client"
                    },
                    "library_client_config_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Library Client Config Path"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "LlamaStackConfiguration",
                "description": "Llama stack configuration."
            },
            "ModelContextProtocolServer": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "provider_id": {
                        "type": "string",
                        "title": "Provider Id",
                        "default": "model-context-protocol"
                    },
                    "url": {
                        "type": "string",
                        "title": "Url"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "name",
                    "url"
                ],
                "title": "ModelContextProtocolServer",
                "description": "model context protocol server configuration."
            },
            "ModelsResponse": {
                "properties": {
                    "models": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Models",
                        "description": "List of models available"
                    }
                },
                "type": "object",
                "required": [
                    "models"
                ],
                "title": "ModelsResponse",
                "description": "Model representing a response to models request.",
                "examples": [
                    {
                        "models": [
                            {
                                "api_model_type": "llm",
                                "identifier": "openai/gpt-4-turbo",
                                "metadata": {},
                                "model_type": "llm",
                                "provider_id": "openai",
                                "provider_resource_id": "gpt-4-turbo",
                                "type": "model"
                            }
                        ]
                    }
                ]
            },
            "NotFoundResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "NotFoundResponse",
                "description": "404 Not Found - Resource does not exist.",
                "examples": [
                    {
                        "detail": {
                            "cause": "Conversation with ID 123e4567-e89b-12d3-a456-426614174000 does not exist",
                            "response": "Conversation not found"
                        },
                        "label": "conversation"
                    },
                    {
                        "detail": {
                            "cause": "Provider with ID openai does not exist",
                            "response": "Provider not found"
                        },
                        "label": "provider"
                    },
                    {
                        "detail": {
                            "cause": "Model with ID gpt-4-turbo is not configured",
                            "response": "Model not found"
                        },
                        "label": "model"
                    },
                    {
                        "detail": {
                            "cause": "Rag with ID vs_7b52a8cf-0fa3-489c-beab-27e061d102f3 does not exist",
                            "response": "Rag not found"
                        },
                        "label": "rag"
                    }
                ]
            },
            "PostgreSQLDatabaseConfiguration": {
                "properties": {
                    "host": {
                        "type": "string",
                        "title": "Host",
                        "default": "localhost"
                    },
                    "port": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Port",
                        "default": 5432
                    },
                    "db": {
                        "type": "string",
                        "title": "Db"
                    },
                    "user": {
                        "type": "string",
                        "title": "User"
                    },
                    "password": {
                        "type": "string",
                        "format": "password",
                        "title": "Password",
                        "writeOnly": true
                    },
                    "namespace": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Namespace",
                        "default": "lightspeed-stack"
                    },
                    "ssl_mode": {
                        "type": "string",
                        "title": "Ssl Mode",
                        "default": "prefer"
                    },
                    "gss_encmode": {
                        "type": "string",
                        "title": "Gss Encmode",
                        "default": "prefer"
                    },
                    "ca_cert_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ca Cert Path"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "db",
                    "user",
                    "password"
                ],
                "title": "PostgreSQLDatabaseConfiguration",
                "description": "PostgreSQL database configuration."
            },
            "ProviderHealthStatus": {
                "properties": {
                    "provider_id": {
                        "type": "string",
                        "title": "Provider Id",
                        "description": "The ID of the provider"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "The health status",
                        "examples": [
                            "ok",
                            "unhealthy",
                            "not_implemented"
                        ]
                    },
                    "message": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Message",
                        "description": "Optional message about the health status",
                        "examples": [
                            "All systems operational",
                            "Llama Stack is unavailable"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "provider_id",
                    "status"
                ],
                "title": "ProviderHealthStatus",
                "description": "Model representing the health status of a provider.\n\nAttributes:\n    provider_id: The ID of the provider.\n    status: The health status ('ok', 'unhealthy', 'not_implemented').\n    message: Optional message about the health status."
            },
            "ProviderResponse": {
                "properties": {
                    "api": {
                        "type": "string",
                        "title": "Api",
                        "description": "The API this provider implements"
                    },
                    "config": {
                        "additionalProperties": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "number"
                                },
                                {
                                    "type": "string"
                                },
                                {
                                    "items": {},
                                    "type": "array"
                                },
                                {},
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "type": "object",
                        "title": "Config",
                        "description": "Provider configuration parameters"
                    },
                    "health": {
                        "additionalProperties": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "number"
                                },
                                {
                                    "type": "string"
                                },
                                {
                                    "items": {},
                                    "type": "array"
                                },
                                {},
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "type": "object",
                        "title": "Health",
                        "description": "Current health status of the provider"
                    },
                    "provider_id": {
                        "type": "string",
                        "title": "Provider Id",
                        "description": "Unique provider identifier"
                    },
                    "provider_type": {
                        "type": "string",
                        "title": "Provider Type",
                        "description": "Provider implementation type"
                    }
                },
                "type": "object",
                "required": [
                    "api",
                    "config",
                    "health",
                    "provider_id",
                    "provider_type"
                ],
                "title": "ProviderResponse",
                "description": "Model representing a response to get specific provider request.",
                "examples": [
                    {
                        "api": "inference",
                        "config": {
                            "api_key": "********"
                        },
                        "health": {
                            "message": "Healthy",
                            "status": "OK"
                        },
                        "provider_id": "openai",
                        "provider_type": "remote::openai"
                    }
                ]
            },
            "ProvidersListResponse": {
                "properties": {
                    "providers": {
                        "additionalProperties": {
                            "items": {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "type": "object",
                        "title": "Providers",
                        "description": "List of available API types and their corresponding providers"
                    }
                },
                "type": "object",
                "required": [
                    "providers"
                ],
                "title": "ProvidersListResponse",
                "description": "Model representing a response to providers request.",
                "examples": [
                    {
                        "providers": {
                            "agents": [
                                {
                                    "provider_id": "meta-reference",
                                    "provider_type": "inline::meta-reference"
                                }
                            ],
                            "inference": [
                                {
                                    "provider_id": "sentence-transformers",
                                    "provider_type": "inline::sentence-transformers"
                                },
                                {
                                    "provider_id": "openai",
                                    "provider_type": "remote::openai"
                                }
                            ]
                        }
                    }
                ]
            },
            "QueryRequest": {
                "properties": {
                    "query": {
                        "type": "string",
                        "title": "Query",
                        "description": "The query string",
                        "examples": [
                            "What is Kubernetes?"
                        ]
                    },
                    "conversation_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation Id",
                        "description": "The optional conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "provider": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Provider",
                        "description": "The optional provider",
                        "examples": [
                            "openai",
                            "watsonx"
                        ]
                    },
                    "model": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Model",
                        "description": "The optional model",
                        "examples": [
                            "gpt4mini"
                        ]
                    },
                    "system_prompt": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "System Prompt",
                        "description": "The optional system prompt.",
                        "examples": [
                            "You are OpenShift assistant.",
                            "You are Ansible assistant."
                        ]
                    },
                    "attachments": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/Attachment"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Attachments",
                        "description": "The optional list of attachments.",
                        "examples": [
                            {
                                "attachment_type": "log",
                                "content": "this is attachment",
                                "content_type": "text/plain"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "kind: Pod\n metadata:\n name:    private-reg",
                                "content_type": "application/yaml"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "foo: bar",
                                "content_type": "application/yaml"
                            }
                        ]
                    },
                    "no_tools": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "No Tools",
                        "description": "Whether to bypass all tools and MCP servers",
                        "default": false,
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "generate_topic_summary": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Generate Topic Summary",
                        "description": "Whether to generate topic summary for new conversations",
                        "default": true,
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "media_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Media Type",
                        "description": "Media type for the response format",
                        "examples": [
                            "application/json",
                            "text/plain"
                        ]
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "query"
                ],
                "title": "QueryRequest",
                "description": "Model representing a request for the LLM (Language Model).\n\nAttributes:\n    query: The query string.\n    conversation_id: The optional conversation ID (UUID).\n    provider: The optional provider.\n    model: The optional model.\n    system_prompt: The optional system prompt.\n    attachments: The optional attachments.\n    no_tools: Whether to bypass all tools and MCP servers (default: False).\n    generate_topic_summary: Whether to generate topic summary for new conversations.\n    media_type: The optional media type for response format (application/json or text/plain).\n\nExample:\n    ```python\n    query_request = QueryRequest(query=\"Tell me about Kubernetes\")\n    ```",
                "examples": [
                    {
                        "attachments": [
                            {
                                "attachment_type": "log",
                                "content": "this is attachment",
                                "content_type": "text/plain"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "kind: Pod\n metadata:\n    name: private-reg",
                                "content_type": "application/yaml"
                            },
                            {
                                "attachment_type": "configuration",
                                "content": "foo: bar",
                                "content_type": "application/yaml"
                            }
                        ],
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                        "generate_topic_summary": true,
                        "model": "model-name",
                        "no_tools": false,
                        "provider": "openai",
                        "query": "write a deployment yaml for the mongodb image",
                        "system_prompt": "You are a helpful assistant"
                    }
                ]
            },
            "QueryResponse": {
                "properties": {
                    "conversation_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation Id",
                        "description": "The optional conversation ID (UUID)",
                        "examples": [
                            "c5260aec-4d82-4370-9fdf-05cf908b3f16"
                        ]
                    },
                    "response": {
                        "type": "string",
                        "title": "Response",
                        "description": "Response from LLM",
                        "examples": [
                            "Kubernetes is an open-source container orchestration system for automating ..."
                        ]
                    },
                    "rag_chunks": {
                        "items": {
                            "$ref": "#/components/schemas/RAGChunk"
                        },
                        "type": "array",
                        "title": "Rag Chunks",
                        "description": "List of RAG chunks used to generate the response",
                        "default": []
                    },
                    "tool_calls": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/ToolCall"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tool Calls",
                        "description": "List of tool calls made during response generation"
                    },
                    "referenced_documents": {
                        "items": {
                            "$ref": "#/components/schemas/ReferencedDocument"
                        },
                        "type": "array",
                        "title": "Referenced Documents",
                        "description": "List of documents referenced in generating the response",
                        "examples": [
                            [
                                {
                                    "doc_title": "Operator Lifecycle Manager (OLM)",
                                    "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/olm/index.html"
                                }
                            ]
                        ]
                    },
                    "truncated": {
                        "type": "boolean",
                        "title": "Truncated",
                        "description": "Whether conversation history was truncated",
                        "default": false,
                        "examples": [
                            false,
                            true
                        ]
                    },
                    "input_tokens": {
                        "type": "integer",
                        "title": "Input Tokens",
                        "description": "Number of tokens sent to LLM",
                        "default": 0,
                        "examples": [
                            150,
                            250,
                            500
                        ]
                    },
                    "output_tokens": {
                        "type": "integer",
                        "title": "Output Tokens",
                        "description": "Number of tokens received from LLM",
                        "default": 0,
                        "examples": [
                            50,
                            100,
                            200
                        ]
                    },
                    "available_quotas": {
                        "additionalProperties": {
                            "type": "integer"
                        },
                        "type": "object",
                        "title": "Available Quotas",
                        "description": "Quota available as measured by all configured quota limiters",
                        "examples": [
                            {
                                "daily": 1000,
                                "monthly": 50000
                            }
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "response"
                ],
                "title": "QueryResponse",
                "description": "Model representing LLM response to a query.\n\nAttributes:\n    conversation_id: The optional conversation ID (UUID).\n    response: The response.\n    rag_chunks: List of RAG chunks used to generate the response.\n    referenced_documents: The URLs and titles for the documents used to generate the response.\n    tool_calls: List of tool calls made during response generation.\n    truncated: Whether conversation history was truncated.\n    input_tokens: Number of tokens sent to LLM.\n    output_tokens: Number of tokens received from LLM.\n    available_quotas: Quota available as measured by all configured quota limiters.",
                "examples": [
                    {
                        "available_quotas": {
                            "daily": 1000,
                            "monthly": 50000
                        },
                        "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
                        "input_tokens": 150,
                        "output_tokens": 75,
                        "rag_chunks": [
                            {
                                "content": "OLM is a component of the Operator Framework toolkit...",
                                "score": 0.95,
                                "source": "kubernetes-docs/operators.md"
                            }
                        ],
                        "referenced_documents": [
                            {
                                "doc_title": "Operator Lifecycle Manager (OLM)",
                                "doc_url": "https://docs.openshift.com/container-platform/4.15/operators/olm/index.html"
                            }
                        ],
                        "response": "Operator Lifecycle Manager (OLM) helps users install...",
                        "tool_calls": [
                            {
                                "arguments": {
                                    "query": "operator lifecycle manager"
                                },
                                "result": {
                                    "chunks_found": 5
                                },
                                "tool_name": "knowledge_search"
                            }
                        ],
                        "truncated": false
                    }
                ]
            },
            "QuotaExceededResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "QuotaExceededResponse",
                "description": "429 Too Many Requests - Quota limit exceeded.",
                "examples": [
                    {
                        "detail": {
                            "cause": "The token quota for model gpt-4-turbo has been exceeded.",
                            "response": "The model quota has been exceeded"
                        },
                        "label": "model"
                    },
                    {
                        "detail": {
                            "cause": "User 123 has no available tokens.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "user none"
                    },
                    {
                        "detail": {
                            "cause": "Cluster has no available tokens.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "cluster none"
                    },
                    {
                        "detail": {
                            "cause": "Unknown subject 999 has no available tokens.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "subject none"
                    },
                    {
                        "detail": {
                            "cause": "User 123 has 5 tokens, but 10 tokens are needed.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "user insufficient"
                    },
                    {
                        "detail": {
                            "cause": "Cluster has 500 tokens, but 900 tokens are needed.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "cluster insufficient"
                    },
                    {
                        "detail": {
                            "cause": "Unknown subject 999 has 3 tokens, but 6 tokens are needed.",
                            "response": "The quota has been exceeded"
                        },
                        "label": "subject insufficient"
                    }
                ]
            },
            "QuotaHandlersConfiguration": {
                "properties": {
                    "sqlite": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SQLiteDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "postgres": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PostgreSQLDatabaseConfiguration"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "limiters": {
                        "items": {
                            "$ref": "#/components/schemas/QuotaLimiterConfiguration"
                        },
                        "type": "array",
                        "title": "Limiters"
                    },
                    "scheduler": {
                        "$ref": "#/components/schemas/QuotaSchedulerConfiguration"
                    },
                    "enable_token_history": {
                        "type": "boolean",
                        "title": "Enable Token History",
                        "default": false
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "QuotaHandlersConfiguration",
                "description": "Quota limiter configuration."
            },
            "QuotaLimiterConfiguration": {
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "user_limiter",
                            "cluster_limiter"
                        ],
                        "title": "Type"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "initial_quota": {
                        "type": "integer",
                        "minimum": 0.0,
                        "title": "Initial Quota"
                    },
                    "quota_increase": {
                        "type": "integer",
                        "minimum": 0.0,
                        "title": "Quota Increase"
                    },
                    "period": {
                        "type": "string",
                        "title": "Period"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "type",
                    "name",
                    "initial_quota",
                    "quota_increase",
                    "period"
                ],
                "title": "QuotaLimiterConfiguration",
                "description": "Configuration for one quota limiter."
            },
            "QuotaSchedulerConfiguration": {
                "properties": {
                    "period": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Period",
                        "default": 1
                    }
                },
                "type": "object",
                "title": "QuotaSchedulerConfiguration",
                "description": "Quota scheduler configuration."
            },
            "RAGChunk": {
                "properties": {
                    "content": {
                        "type": "string",
                        "title": "Content",
                        "description": "The content of the chunk"
                    },
                    "source": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Source",
                        "description": "Source document or URL"
                    },
                    "score": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Score",
                        "description": "Relevance score"
                    }
                },
                "type": "object",
                "required": [
                    "content"
                ],
                "title": "RAGChunk",
                "description": "Model representing a RAG chunk used in the response."
            },
            "RAGInfoResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Vector DB unique ID",
                        "examples": [
                            "vs_00000000_0000_0000"
                        ]
                    },
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Human readable vector DB name",
                        "examples": [
                            "Faiss Store with Knowledge base"
                        ]
                    },
                    "created_at": {
                        "type": "integer",
                        "title": "Created At",
                        "description": "When the vector store was created, represented as Unix time",
                        "examples": [
                            1763391371
                        ]
                    },
                    "last_active_at": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Active At",
                        "description": "When the vector store was last active, represented as Unix time",
                        "examples": [
                            1763391371
                        ]
                    },
                    "usage_bytes": {
                        "type": "integer",
                        "title": "Usage Bytes",
                        "description": "Storage byte(s) used by this vector DB",
                        "examples": [
                            0
                        ]
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "When the vector store expires, represented as Unix time",
                        "examples": [
                            1763391371
                        ]
                    },
                    "object": {
                        "type": "string",
                        "title": "Object",
                        "description": "Object type",
                        "examples": [
                            "vector_store"
                        ]
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Vector DB status",
                        "examples": [
                            "completed"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "created_at",
                    "usage_bytes",
                    "object",
                    "status"
                ],
                "title": "RAGInfoResponse",
                "description": "Model representing a response with information about RAG DB.",
                "examples": [
                    {
                        "created_at": 1763391371,
                        "id": "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                        "last_active_at": 1763391371,
                        "name": "Faiss Store with Knowledge base",
                        "object": "vector_store",
                        "status": "completed",
                        "usage_bytes": 1024000
                    }
                ]
            },
            "RAGListResponse": {
                "properties": {
                    "rags": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "RAG list response",
                        "description": "List of RAG identifiers",
                        "examples": [
                            "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                            "vs_7b52a8cf-0fa3-489c-cafe-27e061d102f3"
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "rags"
                ],
                "title": "RAGListResponse",
                "description": "Model representing a response to list RAGs request.",
                "examples": [
                    {
                        "rags": [
                            "vs_00000000-cafe-babe-0000-000000000000",
                            "vs_7b52a8cf-0fa3-489c-beab-27e061d102f3",
                            "vs_7b52a8cf-0fa3-489c-cafe-27e061d102f3"
                        ]
                    }
                ]
            },
            "RHIdentityConfiguration": {
                "properties": {
                    "required_entitlements": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Required Entitlements"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "RHIdentityConfiguration",
                "description": "Red Hat Identity authentication configuration."
            },
            "ReadinessResponse": {
                "properties": {
                    "ready": {
                        "type": "boolean",
                        "title": "Ready",
                        "description": "Flag indicating if service is ready",
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "reason": {
                        "type": "string",
                        "title": "Reason",
                        "description": "The reason for the readiness",
                        "examples": [
                            "Service is ready"
                        ]
                    },
                    "providers": {
                        "items": {
                            "$ref": "#/components/schemas/ProviderHealthStatus"
                        },
                        "type": "array",
                        "title": "Providers",
                        "description": "List of unhealthy providers in case of readiness failure.",
                        "examples": []
                    }
                },
                "type": "object",
                "required": [
                    "ready",
                    "reason",
                    "providers"
                ],
                "title": "ReadinessResponse",
                "description": "Model representing response to a readiness request.\n\nAttributes:\n    ready: If service is ready.\n    reason: The reason for the readiness.\n    providers: List of unhealthy providers in case of readiness failure.",
                "examples": [
                    {
                        "providers": [],
                        "ready": true,
                        "reason": "Service is ready"
                    }
                ]
            },
            "ReferencedDocument": {
                "properties": {
                    "doc_url": {
                        "anyOf": [
                            {
                                "type": "string",
                                "minLength": 1,
                                "format": "uri"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Doc Url",
                        "description": "URL of the referenced document"
                    },
                    "doc_title": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Doc Title",
                        "description": "Title of the referenced document"
                    }
                },
                "type": "object",
                "title": "ReferencedDocument",
                "description": "Model representing a document referenced in generating a response.\n\nAttributes:\n    doc_url: Url to the referenced doc.\n    doc_title: Title of the referenced doc."
            },
            "SQLiteDatabaseConfiguration": {
                "properties": {
                    "db_path": {
                        "type": "string",
                        "title": "DB path",
                        "description": "Path to file where SQLite database is stored"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "required": [
                    "db_path"
                ],
                "title": "SQLiteDatabaseConfiguration",
                "description": "SQLite database configuration."
            },
            "ServiceConfiguration": {
                "properties": {
                    "host": {
                        "type": "string",
                        "title": "Host",
                        "default": "localhost"
                    },
                    "port": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Port",
                        "default": 8080
                    },
                    "auth_enabled": {
                        "type": "boolean",
                        "title": "Auth Enabled",
                        "default": false
                    },
                    "workers": {
                        "type": "integer",
                        "exclusiveMinimum": 0.0,
                        "title": "Workers",
                        "default": 1
                    },
                    "color_log": {
                        "type": "boolean",
                        "title": "Color Log",
                        "default": true
                    },
                    "access_log": {
                        "type": "boolean",
                        "title": "Access Log",
                        "default": true
                    },
                    "tls_config": {
                        "$ref": "#/components/schemas/TLSConfiguration"
                    },
                    "cors": {
                        "$ref": "#/components/schemas/CORSConfiguration"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "ServiceConfiguration",
                "description": "Service configuration."
            },
            "ServiceUnavailableResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "ServiceUnavailableResponse",
                "description": "503 Backend Unavailable.",
                "examples": [
                    {
                        "detail": {
                            "cause": "Connection error while trying to reach backend service.",
                            "response": "Unable to connect to Llama Stack"
                        },
                        "label": "llama stack"
                    }
                ]
            },
            "ShieldsResponse": {
                "properties": {
                    "shields": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Shields",
                        "description": "List of shields available"
                    }
                },
                "type": "object",
                "required": [
                    "shields"
                ],
                "title": "ShieldsResponse",
                "description": "Model representing a response to shields request.",
                "examples": [
                    {
                        "shields": [
                            {
                                "identifier": "lightspeed_question_validity-shield",
                                "params": {},
                                "provider_id": "lightspeed_question_validity",
                                "provider_resource_id": "lightspeed_question_validity-shield",
                                "type": "shield"
                            }
                        ]
                    }
                ]
            },
            "StatusResponse": {
                "properties": {
                    "functionality": {
                        "type": "string",
                        "title": "Functionality",
                        "description": "The functionality of the service",
                        "examples": [
                            "feedback"
                        ]
                    },
                    "status": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Status",
                        "description": "The status of the service",
                        "examples": [
                            {
                                "enabled": true
                            }
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "functionality",
                    "status"
                ],
                "title": "StatusResponse",
                "description": "Model representing a response to a status request.\n\nAttributes:\n    functionality: The functionality of the service.\n    status: The status of the service.",
                "examples": [
                    {
                        "functionality": "feedback",
                        "status": {
                            "enabled": true
                        }
                    }
                ]
            },
            "TLSConfiguration": {
                "properties": {
                    "tls_certificate_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "TLS certificate path",
                        "description": "SSL/TLS certificate file path for HTTPS support."
                    },
                    "tls_key_path": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "TLS key path",
                        "description": "SSL/TLS private key file path for HTTPS support."
                    },
                    "tls_key_password": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "file-path"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "SSL/TLS key password path",
                        "description": "Path to file containing the password to decrypt the SSL/TLS private key."
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "TLSConfiguration",
                "description": "TLS configuration.\n\nSee also:\n- https://fastapi.tiangolo.com/deployment/https/\n- https://en.wikipedia.org/wiki/Transport_Layer_Security"
            },
            "ToolCall": {
                "properties": {
                    "tool_name": {
                        "type": "string",
                        "title": "Tool Name",
                        "description": "Name of the tool called"
                    },
                    "arguments": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Arguments",
                        "description": "Arguments passed to the tool"
                    },
                    "result": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Result",
                        "description": "Result from the tool"
                    }
                },
                "type": "object",
                "required": [
                    "tool_name",
                    "arguments"
                ],
                "title": "ToolCall",
                "description": "Model representing a tool call made during response generation."
            },
            "ToolsResponse": {
                "properties": {
                    "tools": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Tools",
                        "description": "List of tools available from all configured MCP servers and built-in toolgroups"
                    }
                },
                "type": "object",
                "required": [
                    "tools"
                ],
                "title": "ToolsResponse",
                "description": "Model representing a response to tools request.",
                "examples": [
                    {
                        "tools": [
                            {
                                "description": "Read contents of a file from the filesystem",
                                "identifier": "filesystem_read",
                                "parameters": [
                                    {
                                        "description": "Path to the file to read",
                                        "name": "path",
                                        "parameter_type": "string",
                                        "required": true
                                    }
                                ],
                                "provider_id": "model-context-protocol",
                                "server_source": "http://localhost:3000",
                                "toolgroup_id": "filesystem-tools",
                                "type": "tool"
                            }
                        ]
                    }
                ]
            },
            "UnauthorizedResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "UnauthorizedResponse",
                "description": "401 Unauthorized - Missing or invalid credentials.",
                "examples": [
                    {
                        "detail": {
                            "cause": "No Authorization header found",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "missing header"
                    },
                    {
                        "detail": {
                            "cause": "No token found in Authorization header",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "missing token"
                    },
                    {
                        "detail": {
                            "cause": "Token has expired",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "expired token"
                    },
                    {
                        "detail": {
                            "cause": "Invalid token signature",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid signature"
                    },
                    {
                        "detail": {
                            "cause": "Token signed by unknown key",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid key"
                    },
                    {
                        "detail": {
                            "cause": "Token missing claim: user_id",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "missing claim"
                    },
                    {
                        "detail": {
                            "cause": "Invalid or expired Kubernetes token",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid k8s token"
                    },
                    {
                        "detail": {
                            "cause": "Authentication key server returned invalid data",
                            "response": "Missing or invalid credentials provided by client"
                        },
                        "label": "invalid jwk token"
                    }
                ]
            },
            "UnprocessableEntityResponse": {
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "title": "Status Code"
                    },
                    "detail": {
                        "$ref": "#/components/schemas/DetailModel"
                    }
                },
                "type": "object",
                "required": [
                    "status_code",
                    "detail"
                ],
                "title": "UnprocessableEntityResponse",
                "description": "422 Unprocessable Entity - Request validation failed.",
                "examples": [
                    {
                        "detail": {
                            "cause": "Invalid request format. The request body could not be parsed.",
                            "response": "Invalid request format"
                        },
                        "label": "invalid format"
                    },
                    {
                        "detail": {
                            "cause": "Missing required attributes: ['query', 'model', 'provider']",
                            "response": "Missing required attributes"
                        },
                        "label": "missing attributes"
                    },
                    {
                        "detail": {
                            "cause": "Invalid attatchment type: must be one of ['text/plain', 'application/json', 'application/yaml', 'application/xml']",
                            "response": "Invalid attribute value"
                        },
                        "label": "invalid value"
                    }
                ]
            },
            "UserDataCollection": {
                "properties": {
                    "feedback_enabled": {
                        "type": "boolean",
                        "title": "Feedback Enabled",
                        "default": false
                    },
                    "feedback_storage": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Feedback Storage"
                    },
                    "transcripts_enabled": {
                        "type": "boolean",
                        "title": "Transcripts Enabled",
                        "default": false
                    },
                    "transcripts_storage": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Transcripts Storage"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "UserDataCollection",
                "description": "User data collection configuration."
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    }
}